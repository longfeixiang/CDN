(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,35449,(e,t,r)=>{t.exports=e.r(34516)},8943,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"warnOnce",{enumerable:!0,get:function(){return a}});let a=e=>{}},7705,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"useMergedRef",{enumerable:!0,get:function(){return n}});let a=e.r(66634);function n(e,t){let r=(0,a.useRef)(null),n=(0,a.useRef)(null);return(0,a.useCallback)(a=>{if(null===a){let e=r.current;e&&(r.current=null,e());let t=n.current;t&&(n.current=null,t())}else e&&(r.current=o(e,a)),t&&(n.current=o(t,a))},[e,t])}function o(e,t){if("function"!=typeof e)return e.current=t,()=>{e.current=null};{let r=e(t);return"function"==typeof r?r:()=>e(null)}}("function"==typeof r.default||"object"==typeof r.default&&null!==r.default)&&void 0===r.default.__esModule&&(Object.defineProperty(r.default,"__esModule",{value:!0}),Object.assign(r.default,r),t.exports=r.default)},30438,e=>{e.v({nav:{home:"HOME",library:"LIBRARY",guide:"GUIDE",profile:"PROFILE"},home:{todaysRead:"Today's Read",mustRead:"MUST READ",selectedForYou:"SELECTED FOR YOU",contentTypes:{all:"All",tutorial:"Tutorial",concept:"Concept",narrative:"Narrative",opinion:"Opinion",news:"News",resource:"Resource",collection:"Collection",pin:"Pin",favorite:"Favorite",answer:"Answer",article:"Article"}},search:{placeholder:"Search topics, articles...",discovery:"Discovery",recent:"RECENT",clearAll:"CLEAR ALL",resultsFor:"Results for",noResults:"No results found.",searching:"Searching...",trending:"Trending Now",filters:{title:"Filters",sortBy:"Sort By",category:"Category",all:"All",reset:"Reset all filters",articles:"Articles",sortOptions:{relevance:"Recommended",newest:"Newest",oldest:"Oldest"}}},library:{title:"Library",subtitle:"Curated Collections",seeAll:"See All",empty:"No collections found.",seedHint:"Run 'pnpm seed' to populate data.",updated:"Updated",books:"Books",syncTitle:"Pull books from OPDS",syncStatus:"Sync Status",syncRunning:"Syncing Library",syncSuccess:"Sync Complete",syncError:"Sync Failed",initializing:"Initializing...",preparing:"Preparing...",foundBooks:"Found {count} books",importing:"Importing: {title}",syncCompleteCount:"Sync complete. Imported {count} new books",noBooksFound:"No books found",search:"Search Collections",searchPlaceholder:"Enter collection name...",createNew:"Create New",editCollection:"Edit Collection",deleteCollection:"Delete Collection",deleteConfirm:"Are you sure you want to delete this collection? Books will not be deleted.",collectionName:"Collection Name",enterName:"Enter collection name",sortBy:"Sort",sortByName:"By Name",sortByDate:"By Date",sortByCustom:"Custom Order",addToCollection:"Add to Collection",removeFromCollection:"Remove from Collection"},profile:{title:"Profile",settings:"Settings",appearance:"Appearance",preferences:"Preferences",language:"Language",theme:"Theme",logOut:"Log Out",readingHistory:"Reading History",chatHistory:"Chat History",view:"VIEW",dataManagement:{title:"Data Management",history:"History",articles:"Articles",chats:"AI Chats",insights:"Insights",library:"Library Data",confirmTitle:"Delete {label}?",confirmDesc:"Are you sure you want to delete all {label}?",deleteWarning:"⚠️ Warning: This action will permanently delete all data and cannot be recovered!",deleteError:"Failed to delete data",deleteSuccess:"Successfully deleted {label}",confirmButton:"Confirm Delete",cancelButton:"Cancel",note:"Note: Deleting data is a permanent action. Once you delete a category, all associated content and preferences will be permanently removed from your device.",threads:"threads"},promptEditor:"Prompt Editor",importData:"Import Data",appSettings:"App Settings",help:"Help & Support",items:"items",articlesRead:"Articles read",wordCount:"Word count",contributionGraph:{title:"Reading Contributions",noData:"No reading data found",weekdays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],totalCount:"{{count}} articles"}},settings:{title:"Settings",appearance:"Appearance",preferences:"Preferences",application:"Application",theme:"Theme",typography:"Typography",notifications:"Notifications",privacy:"Privacy & Security",about:"About",licenses:"Licenses",opds:"OPDS Server",opdsSubtitle:"Connect to external catalogs",connect:"Connect",serverUrl:"Server URL",username:"Username",password:"Password",language:"Language",loadImages:"Load Images",loadImagesSub:"Toggle image loading to save data",aiModel:"AI Model",selectModel:"Select Gemini Model",guideViewMode:{title:"Guide View Mode",swipe:"Swipe Card",feed:"Vertical Feed"}},auth:{welcome:"Welcome back",enter:"Enter",identityAccess:"Identity Access",passphrasePlaceholder:"Enter your passphrase...",loginFailed:"Login failed"},guide:{title:"Guide",progress:"Progress","3minRead":"3 min read",insight:"Insight",noInsights:"No insights found yet.",deleteConfirm:"Delete this insight?",filterAll:"All",filterThinking:"Thinking",filterInsight:"Insight",filterFavorites:"Favorites"},article:{notFound:"Article not found.",goHome:"Go Home",editTags:"Edit Tags",addTag:"Add a new tag...",editTagsDescription:"Edit article tags",summary:"SUMMARY",thinking:"THINKING",aiInsight:{title:"AI Insight Generation",label:"What are you looking for? (Optional)",placeholder:"E.g., Summarize key points, List all tools mentioned...",generating:"Generating...",generate:"Generate"},share:"Share Article",delete:"Delete Article",deleteConfirm:"Are you sure you want to permanently delete this article? This action cannot be undone.",deleteAiChat:"Delete AI Chat",deleteAiChatConfirm:"Are you sure you want to delete the AI chat history for this article?"},common:{save:"Save Changes",cancel:"Cancel",confirm:"Confirm",loading:"Loading..."},promptEditor:{title:"Gemini Prompt",saveChanges:"Save Changes",close:"Close",placeholder:"Start typing your prompt here... use Markdown for structure.",saveSuccess:"Prompt saved successfully",saveError:"Failed to save prompt",restoreDefaults:"Restore Defaults",unsavedChangesTitle:"Unsaved Changes",unsavedChangesDescription:"You have unsaved changes. If you leave, your changes will be lost.",leave:"Leave",stay:"Stay"}})},89778,e=>{e.v({nav:{home:"首页",library:"书馆",guide:"洞察",profile:"我的"},home:{todaysRead:"今日阅读",mustRead:"必读推荐",selectedForYou:"精选内容",contentTypes:{all:"全部",tutorial:"实操教程",concept:"深度解析",narrative:"叙事经历",opinion:"观点评论",news:"资讯快报",resource:"素材资源",collection:"清单合集",pin:"想法",favorite:"收藏",answer:"答案",article:"文章"}},search:{placeholder:"搜索话题、文章...",discovery:"发现",recent:"最近搜索",clearAll:"清除全部",resultsFor:"搜索结果：",noResults:"未找到相关结果",searching:"搜索中...",trending:"热门话题",filters:{title:"筛选",sortBy:"排序方式",category:"分类",all:"全部",reset:"重置所有筛选",articles:"篇文章",sortOptions:{relevance:"推荐",newest:"最新发布",oldest:"最早发布"}}},library:{title:"藏书馆",subtitle:"精选书单",seeAll:"查看全部",empty:"暂无书单",seedHint:"请运行 'pnpm seed' 生成数据",updated:"更新于",books:"本书",syncTitle:"从 OPDS 拉取图书",syncStatus:"同步状态",syncRunning:"正在同步藏书馆",syncSuccess:"同步完成",syncError:"同步失败",initializing:"正在初始化...",preparing:"准备中...",foundBooks:"已找到 {count} 本书",importing:"正在导入: {title}",syncCompleteCount:"同步完成，已导入 {count} 本新书",noBooksFound:"未找到任何书籍",search:"搜索书单",searchPlaceholder:"输入书单名称...",createNew:"新建书单",editCollection:"编辑书单",deleteCollection:"删除书单",deleteConfirm:"确定要删除此书单吗？书单中的书籍不会被删除。",collectionName:"书单名称",enterName:"请输入书单名称",sortBy:"排序",sortByName:"按名称",sortByDate:"按创建时间",sortByCustom:"自定义顺序",addToCollection:"添加到书单",removeFromCollection:"从书单移除"},profile:{title:"个人中心",settings:"设置",appearance:"外观",preferences:"偏好",language:"语言",theme:"主题",logOut:"退出登录",readingHistory:"阅读历史",chatHistory:"对话历史",view:"查看",dataManagement:{title:"数据管理",history:"历史记录",articles:"文章数据",chats:"AI 对话",insights:"洞察数据",library:"藏书馆数据",confirmTitle:"删除 {label}？",confirmDesc:"您确定要删除所有 {label} 吗？",deleteWarning:"⚠️ 警告：此操作将永久删除所有数据，无法恢复！",deleteError:"删除数据失败",deleteSuccess:"已成功删除 {label}",confirmButton:"确认删除",cancelButton:"取消",note:"注意：删除数据是永久性操作。一旦删除某个类别，所有相关内容和设置将从您的设备中永久移除。",threads:"条对话"},promptEditor:"提示词编辑器",importData:"导入数据",appSettings:"应用设置",help:"帮助与支持",items:"项",articlesRead:"已读文章",wordCount:"阅读字数",contributionGraph:{title:"阅读贡献",noData:"暂无阅读数据",weekdays:["日","一","二","三","四","五","六"],months:["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月"],totalCount:"{{count}} 篇文章"}},settings:{title:"设置",appearance:"外观",preferences:"偏好设置",application:"应用程序",theme:"主题",typography:"排版",notifications:"通知",privacy:"隐私与安全",about:"关于",licenses:"开源许可",opds:"OPDS 服务器",opdsSubtitle:"连接外部目录",connect:"连接",serverUrl:"服务器地址",username:"用户名",password:"密码",language:"语言",loadImages:"加载图片",loadImagesSub:"开启图片加载以节省流量",aiModel:"AI 模型",selectModel:"选择生成模型",guideViewMode:{title:"阅读试图模式",swipe:"卡片翻阅",feed:"垂直信息流"}},auth:{welcome:"欢迎回来",enter:"进入",identityAccess:"身份验证",passphrasePlaceholder:"请输入您的口令短语...",loginFailed:"登录失败"},guide:{title:"深度洞察",progress:"进度","3minRead":"3 分钟阅读",insight:"洞察",noInsights:"暂无洞察内容。",deleteConfirm:"确定删除此洞察？",filterAll:"全部",filterThinking:"思考",filterInsight:"洞察",filterFavorites:"收藏"},article:{notFound:"未找到文章。",goHome:"返回首页",editTags:"编辑标签",addTag:"添加新标签...",editTagsDescription:"编辑文章标签",summary:"摘要",thinking:"思考",aiInsight:{title:"AI 洞察生成",label:"您想了解什么？（可选）",placeholder:"例如：总结关键点，列出所有提及的工具...",generating:"正在生成...",generate:"生成"},share:"分享文章",delete:"删除文章",deleteConfirm:"您确定要永久删除这篇文章吗？此操作无法撤销。",deleteAiChat:"删除 AI 对话",deleteAiChatConfirm:"您确定要删除此文章的 AI 对话历史吗？"},common:{save:"保存更改",cancel:"取消",confirm:"确认",loading:"加载中..."},promptEditor:{title:"Gemini 提示词",saveChanges:"保存更改",close:"关闭",placeholder:"在此输入您的提示词... 支持 Markdown 结构。",saveSuccess:"提示词已成功保存",saveError:"保存提示词失败",restoreDefaults:"恢复默认",unsavedChangesTitle:"未保存的更改",unsavedChangesDescription:"您有未保存的更改。如果您离开，这些更改将丢失。",leave:"离开",stay:"留下"}})},71111,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});var a={callServer:function(){return o.callServer},createServerReference:function(){return l.createServerReference},findSourceMapURL:function(){return i.findSourceMapURL}};for(var n in a)Object.defineProperty(r,n,{enumerable:!0,get:a[n]});let o=e.r(61547),i=e.r(55313),l=e.r(81553)},20128,e=>{"use strict";var t=e.i(66634);let r=e=>{let t,r=new Set,a=(e,a)=>{let n="function"==typeof e?e(t):e;if(!Object.is(n,t)){let e=t;t=(null!=a?a:"object"!=typeof n||null===n)?n:Object.assign({},t,n),r.forEach(r=>r(t,e))}},n=()=>t,o={setState:a,getState:n,getInitialState:()=>i,subscribe:e=>(r.add(e),()=>r.delete(e))},i=t=e(a,n,o);return o},a=e=>{let a=e?r(e):r,n=e=>(function(e,r=e=>e){let a=t.default.useSyncExternalStore(e.subscribe,t.default.useCallback(()=>r(e.getState()),[e,r]),t.default.useCallback(()=>r(e.getInitialState()),[e,r]));return t.default.useDebugValue(a),a})(a,e);return Object.assign(n,a),n},n=e=>e?a(e):a;e.s(["create",()=>n],20128)},6891,69087,98183,e=>{"use strict";var t=e.i(20128);let r=e=>t=>{try{let a=e(t);if(a instanceof Promise)return a;return{then:e=>r(e)(a),catch(e){return this}}}catch(e){return{then(e){return this},catch:t=>r(t)(e)}}},a=(e,t)=>(a,n,o)=>{let i,l={storage:function(e,t){let r;try{r=e()}catch(e){return}return{getItem:e=>{var t;let a=e=>null===e?null:JSON.parse(e,void 0),n=null!=(t=r.getItem(e))?t:null;return n instanceof Promise?n.then(a):a(n)},setItem:(e,t)=>r.setItem(e,JSON.stringify(t,void 0)),removeItem:e=>r.removeItem(e)}}(()=>localStorage),partialize:e=>e,version:0,merge:(e,t)=>({...t,...e}),...t},s=!1,c=0,u=new Set,d=new Set,f=l.storage;if(!f)return e((...e)=>{console.warn(`[zustand persist middleware] Unable to update item '${l.name}', the given storage is currently unavailable.`),a(...e)},n,o);let p=()=>{let e=l.partialize({...n()});return f.setItem(l.name,{state:e,version:l.version})},m=o.setState;o.setState=(e,t)=>(m(e,t),p());let h=e((...e)=>(a(...e),p()),n,o);o.getInitialState=()=>h;let g=()=>{var e,t;if(!f)return;let o=++c;s=!1,u.forEach(e=>{var t;return e(null!=(t=n())?t:h)});let m=(null==(t=l.onRehydrateStorage)?void 0:t.call(l,null!=(e=n())?e:h))||void 0;return r(f.getItem.bind(f))(l.name).then(e=>{if(e)if("number"!=typeof e.version||e.version===l.version)return[!1,e.state];else{if(l.migrate){let t=l.migrate(e.state,e.version);return t instanceof Promise?t.then(e=>[!0,e]):[!0,t]}console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}return[!1,void 0]}).then(e=>{var t;if(o!==c)return;let[r,s]=e;if(a(i=l.merge(s,null!=(t=n())?t:h),!0),r)return p()}).then(()=>{o===c&&(null==m||m(i,void 0),i=n(),s=!0,d.forEach(e=>e(i)))}).catch(e=>{o===c&&(null==m||m(void 0,e))})};return o.persist={setOptions:e=>{l={...l,...e},e.storage&&(f=e.storage)},clearStorage:()=>{null==f||f.removeItem(l.name)},getOptions:()=>l,rehydrate:()=>g(),hasHydrated:()=>s,onHydrate:e=>(u.add(e),()=>{u.delete(e)}),onFinishHydration:e=>(d.add(e),()=>{d.delete(e)})},l.skipHydration||g(),i||h};e.s(["persist",()=>a],69087);let n=(0,t.create)()(a(e=>({lang:"en",setLang:t=>{e({lang:t}),document.cookie=`NEXT_LOCALE=${t}; path=/; max-age=31536000; SameSite=Lax`}}),{name:"lang-storage"}));e.s(["useLangStore",0,n],98183);var o=e.i(30438),i=e.i(89778);let l={en:o.default,zh:i.default};function s(){let{lang:e}=n();return l[e]}e.s(["useTranslation",()=>s],6891)},53100,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});var a={assign:function(){return s},searchParamsToUrlQuery:function(){return o},urlQueryToSearchParams:function(){return l}};for(var n in a)Object.defineProperty(r,n,{enumerable:!0,get:a[n]});function o(e){let t={};for(let[r,a]of e.entries()){let e=t[r];void 0===e?t[r]=a:Array.isArray(e)?e.push(a):t[r]=[e,a]}return t}function i(e){return"string"==typeof e?e:("number"!=typeof e||isNaN(e))&&"boolean"!=typeof e?"":String(e)}function l(e){let t=new URLSearchParams;for(let[r,a]of Object.entries(e))if(Array.isArray(a))for(let e of a)t.append(r,i(e));else t.set(r,i(a));return t}function s(e,...t){for(let r of t){for(let t of r.keys())e.delete(t);for(let[t,a]of r.entries())e.append(t,a)}return e}},86482,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});var a={formatUrl:function(){return l},formatWithValidation:function(){return c},urlObjectKeys:function(){return s}};for(var n in a)Object.defineProperty(r,n,{enumerable:!0,get:a[n]});let o=e.r(44066)._(e.r(53100)),i=/https?|ftp|gopher|file/;function l(e){let{auth:t,hostname:r}=e,a=e.protocol||"",n=e.pathname||"",l=e.hash||"",s=e.query||"",c=!1;t=t?encodeURIComponent(t).replace(/%3A/i,":")+"@":"",e.host?c=t+e.host:r&&(c=t+(~r.indexOf(":")?`[${r}]`:r),e.port&&(c+=":"+e.port)),s&&"object"==typeof s&&(s=String(o.urlQueryToSearchParams(s)));let u=e.search||s&&`?${s}`||"";return a&&!a.endsWith(":")&&(a+=":"),e.slashes||(!a||i.test(a))&&!1!==c?(c="//"+(c||""),n&&"/"!==n[0]&&(n="/"+n)):c||(c=""),l&&"#"!==l[0]&&(l="#"+l),u&&"?"!==u[0]&&(u="?"+u),n=n.replace(/[?#]/g,encodeURIComponent),u=u.replace("#","%23"),`${a}${c}${n}${u}${l}`}let s=["auth","hash","host","hostname","href","path","pathname","port","protocol","query","search","slashes"];function c(e){return l(e)}},75,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});var a={DecodeError:function(){return y},MiddlewareNotFoundError:function(){return w},MissingStaticPage:function(){return b},NormalizeError:function(){return v},PageNotFoundError:function(){return x},SP:function(){return h},ST:function(){return g},WEB_VITALS:function(){return o},execOnce:function(){return i},getDisplayName:function(){return d},getLocationOrigin:function(){return c},getURL:function(){return u},isAbsoluteUrl:function(){return s},isResSent:function(){return f},loadGetInitialProps:function(){return m},normalizeRepeatedSlashes:function(){return p},stringifyError:function(){return S}};for(var n in a)Object.defineProperty(r,n,{enumerable:!0,get:a[n]});let o=["CLS","FCP","FID","INP","LCP","TTFB"];function i(e){let t,r=!1;return(...a)=>(r||(r=!0,t=e(...a)),t)}let l=/^[a-zA-Z][a-zA-Z\d+\-.]*?:/,s=e=>l.test(e);function c(){let{protocol:e,hostname:t,port:r}=window.location;return`${e}//${t}${r?":"+r:""}`}function u(){let{href:e}=window.location,t=c();return e.substring(t.length)}function d(e){return"string"==typeof e?e:e.displayName||e.name||"Unknown"}function f(e){return e.finished||e.headersSent}function p(e){let t=e.split("?");return t[0].replace(/\\/g,"/").replace(/\/\/+/g,"/")+(t[1]?`?${t.slice(1).join("?")}`:"")}async function m(e,t){let r=t.res||t.ctx&&t.ctx.res;if(!e.getInitialProps)return t.ctx&&t.Component?{pageProps:await m(t.Component,t.ctx)}:{};let a=await e.getInitialProps(t);if(r&&f(r))return a;if(!a)throw Object.defineProperty(Error(`"${d(e)}.getInitialProps()" should resolve to an object. But found "${a}" instead.`),"__NEXT_ERROR_CODE",{value:"E394",enumerable:!1,configurable:!0});return a}let h="u">typeof performance,g=h&&["mark","measure","getEntriesByName"].every(e=>"function"==typeof performance[e]);class y extends Error{}class v extends Error{}class x extends Error{constructor(e){super(),this.code="ENOENT",this.name="PageNotFoundError",this.message=`Cannot find module for page: ${e}`}}class b extends Error{constructor(e,t){super(),this.message=`Failed to load static file for page: ${e} ${t}`}}class w extends Error{constructor(){super(),this.code="ENOENT",this.message="Cannot find the middleware module"}}function S(e){return JSON.stringify({message:e.message,stack:e.stack})}},59664,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"isLocalURL",{enumerable:!0,get:function(){return o}});let a=e.r(75),n=e.r(74240);function o(e){if(!(0,a.isAbsoluteUrl)(e))return!0;try{let t=(0,a.getLocationOrigin)(),r=new URL(e,t);return r.origin===t&&(0,n.hasBasePath)(r.pathname)}catch(e){return!1}}},63217,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"errorOnce",{enumerable:!0,get:function(){return a}});let a=e=>{}},81756,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});var a={default:function(){return y},useLinkStatus:function(){return x}};for(var n in a)Object.defineProperty(r,n,{enumerable:!0,get:a[n]});let o=e.r(44066),i=e.r(85069),l=o._(e.r(66634)),s=e.r(86482),c=e.r(92116),u=e.r(7705),d=e.r(75),f=e.r(87483);e.r(8943);let p=e.r(79407),m=e.r(59664),h=e.r(21869);function g(e){return"string"==typeof e?e:(0,s.formatUrl)(e)}function y(t){var r;let a,n,o,[s,y]=(0,l.useOptimistic)(p.IDLE_LINK_STATUS),x=(0,l.useRef)(null),{href:b,as:w,children:S,prefetch:j=null,passHref:N,replace:k,shallow:C,scroll:A,onClick:E,onMouseEnter:P,onTouchStart:R,legacyBehavior:T=!1,onNavigate:L,ref:_,unstable_dynamicOnHover:I,...O}=t;a=S,T&&("string"==typeof a||"number"==typeof a)&&(a=(0,i.jsx)("a",{children:a}));let M=l.default.useContext(c.AppRouterContext),D=!1!==j,F=!1!==j?null===(r=j)||"auto"===r?h.FetchStrategy.PPR:h.FetchStrategy.Full:h.FetchStrategy.PPR,{href:U,as:B}=l.default.useMemo(()=>{let e=g(b);return{href:e,as:w?g(w):e}},[b,w]);if(T){if(a?.$$typeof===Symbol.for("react.lazy"))throw Object.defineProperty(Error("`<Link legacyBehavior>` received a direct child that is either a Server Component, or JSX that was loaded with React.lazy(). This is not supported. Either remove legacyBehavior, or make the direct child a Client Component that renders the Link's `<a>` tag."),"__NEXT_ERROR_CODE",{value:"E863",enumerable:!1,configurable:!0});n=l.default.Children.only(a)}let $=T?n&&"object"==typeof n&&n.ref:_,H=l.default.useCallback(e=>(null!==M&&(x.current=(0,p.mountLinkInstance)(e,U,M,F,D,y)),()=>{x.current&&((0,p.unmountLinkForCurrentNavigation)(x.current),x.current=null),(0,p.unmountPrefetchableInstance)(e)}),[D,U,M,F,y]),z={ref:(0,u.useMergedRef)(H,$),onClick(t){T||"function"!=typeof E||E(t),T&&n.props&&"function"==typeof n.props.onClick&&n.props.onClick(t),!M||t.defaultPrevented||function(t,r,a,n,o,i,s){if("u">typeof window){let c,{nodeName:u}=t.currentTarget;if("A"===u.toUpperCase()&&((c=t.currentTarget.getAttribute("target"))&&"_self"!==c||t.metaKey||t.ctrlKey||t.shiftKey||t.altKey||t.nativeEvent&&2===t.nativeEvent.which)||t.currentTarget.hasAttribute("download"))return;if(!(0,m.isLocalURL)(r)){o&&(t.preventDefault(),location.replace(r));return}if(t.preventDefault(),s){let e=!1;if(s({preventDefault:()=>{e=!0}}),e)return}let{dispatchNavigateAction:d}=e.r(56823);l.default.startTransition(()=>{d(a||r,o?"replace":"push",i??!0,n.current)})}}(t,U,B,x,k,A,L)},onMouseEnter(e){T||"function"!=typeof P||P(e),T&&n.props&&"function"==typeof n.props.onMouseEnter&&n.props.onMouseEnter(e),M&&D&&(0,p.onNavigationIntent)(e.currentTarget,!0===I)},onTouchStart:function(e){T||"function"!=typeof R||R(e),T&&n.props&&"function"==typeof n.props.onTouchStart&&n.props.onTouchStart(e),M&&D&&(0,p.onNavigationIntent)(e.currentTarget,!0===I)}};return(0,d.isAbsoluteUrl)(B)?z.href=B:T&&!N&&("a"!==n.type||"href"in n.props)||(z.href=(0,f.addBasePath)(B)),o=T?l.default.cloneElement(n,z):(0,i.jsx)("a",{...O,...z,children:a}),(0,i.jsx)(v.Provider,{value:s,children:o})}e.r(63217);let v=(0,l.createContext)(p.IDLE_LINK_STATUS),x=()=>(0,l.useContext)(v);("function"==typeof r.default||"object"==typeof r.default&&null!==r.default)&&void 0===r.default.__esModule&&(Object.defineProperty(r.default,"__esModule",{value:!0}),Object.assign(r.default,r),t.exports=r.default)},11053,e=>{"use strict";let t=(0,e.i(98631).default)("house",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]]);e.s(["Home",()=>t],11053)},1508,e=>{"use strict";let t=(0,e.i(98631).default)("compass",[["path",{d:"m16.24 7.76-1.804 5.411a2 2 0 0 1-1.265 1.265L7.76 16.24l1.804-5.411a2 2 0 0 1 1.265-1.265z",key:"9ktpf1"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);e.s(["Compass",()=>t],1508)},99688,e=>{"use strict";let t=(0,e.i(98631).default)("user",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);e.s(["User",()=>t],99688)},72169,74515,e=>{"use strict";var t=e.i(85069),r=e.i(11053),a=e.i(1508);let n=(0,e.i(98631).default)("book-open",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]]);e.s(["BookOpen",()=>n],74515);var o=e.i(99688),i=e.i(81756),l=e.i(35449),s=e.i(31924),c=e.i(6891);function u(){let e=(0,l.usePathname)(),u=(0,c.useTranslation)(),d=[{label:u.nav.home,href:"/",icon:r.Home},{label:u.nav.library,href:"/library",icon:n},{label:u.nav.guide,href:"/guide",icon:a.Compass},{label:u.nav.profile,href:"/profile",icon:o.User}];return(0,t.jsx)("nav",{className:"fixed bottom-0 left-0 right-0 z-50 bg-white/90 dark:bg-black/90 backdrop-blur-xl border-t border-slate-200 dark:border-white/10 pb-8 pt-4",children:(0,t.jsx)("div",{className:"flex items-center justify-between max-w-md mx-auto px-8",children:d.map(r=>{let a=e===r.href,n=r.icon;return(0,t.jsxs)(i.default,{href:r.href,className:(0,s.cn)("flex flex-col items-center gap-1.5 transition-all duration-300",a?"text-primary opacity-100":"text-slate-400 dark:text-slate-500 hover:text-slate-600 dark:hover:text-slate-300 opacity-70 hover:opacity-100"),children:[(0,t.jsx)(n,{className:(0,s.cn)("w-6 h-6 transition-transform duration-300",a?"stroke-[2.5px] scale-105":"stroke-[1.5px]")}),(0,t.jsx)("span",{className:"text-[9px] font-bold tracking-[0.15em] font-sans",children:r.label}),a&&(0,t.jsx)("span",{className:"absolute -bottom-2 w-1 h-1 bg-current rounded-full"})]},r.href)})})})}e.s(["BottomNavbar",()=>u],72169)},79278,e=>{"use strict";let t=(0,e.i(98631).default)("loader-circle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);e.s(["Loader2",()=>t],79278)},25923,e=>{"use strict";let t=(0,e.i(98631).default)("heart",[["path",{d:"M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5",key:"mvr1a0"}]]);e.s(["Heart",()=>t],25923)},15343,e=>{"use strict";var t=e.i(85069),r=e.i(25923),a=e.i(13862);let n=(0,e.i(98631).default)("trending-up",[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]]);var o=e.i(31924),i=e.i(99676),l=e.i(81756),s=e.i(71111);let c=(0,s.createServerReference)("403b9e067dc103b4a4011e1315ae362e51319da71f",s.callServer,void 0,s.findSourceMapURL,"unfavoriteArticleAction");var u=e.i(35449);function d({article:e}){let s=(0,u.useRouter)(),d=`/article/${e.id}`,f=async t=>{t.preventDefault(),t.stopPropagation(),window.confirm("Are you sure you want to remove this from favorites?")&&(await c(e.id)).success&&s.refresh()};return"featured"===e.type?(0,t.jsxs)(l.default,{href:d,className:"h-full flex flex-col justify-between group relative rounded-3xl bg-card p-6 shadow-[0_4px_20px_-2px_rgba(0,0,0,0.05)] hover:shadow-[0_10px_25px_-3px_rgba(46,106,122,0.1)] transition-all duration-300 border border-transparent hover:border-primary/20 dark:border-white/5 dark:hover:border-primary/40 cursor-pointer",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,t.jsx)("span",{className:"inline-block rounded bg-primary/10 px-2 py-1 text-[10px] font-bold tracking-wider text-primary uppercase",children:e.category}),1===e.favorite&&(0,t.jsx)("button",{onClick:f,className:"text-red-500 hover:text-red-600 transition-colors cursor-pointer z-10 p-1",title:"Remove from favorites",children:(0,t.jsx)(r.Heart,{className:"fill-current w-[22px] h-[22px]"})})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h2",{className:"font-sans text-2xl font-extrabold leading-tight text-foreground mb-3 group-hover:text-primary transition-colors",children:e.title}),(0,t.jsx)("p",{className:"font-sans text-sm font-medium leading-relaxed text-slate-500 dark:text-slate-400",children:e.excerpt})]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-3 pt-4 border-t border-slate-100 dark:border-white/5 mt-auto",children:[(0,t.jsxs)("span",{className:"text-[11px] font-bold text-slate-400 dark:text-slate-500 uppercase tracking-wide flex items-center gap-1",children:[(0,t.jsx)(a.Clock,{className:"w-[14px] h-[14px] align-middle"}),e.readTime]}),(0,t.jsx)("span",{className:"h-1 w-1 rounded-full bg-slate-300 dark:bg-slate-600"}),(0,t.jsx)("span",{className:"text-[11px] font-bold text-slate-400 dark:text-slate-500 uppercase tracking-wide",children:e.postedAt})]})]}):"highlight"===e.type?(0,t.jsxs)(l.default,{href:d,className:"h-full flex flex-col justify-between group relative rounded-2xl bg-primary/5 dark:bg-primary/10 p-5 border border-primary/10 dark:border-primary/20 cursor-pointer hover:border-primary/30 transition-all",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 mb-3",children:[(0,t.jsx)(n,{className:"text-primary w-[18px] h-[18px]"}),(0,t.jsxs)("span",{className:"text-[10px] font-bold tracking-wider text-primary uppercase",children:["Trending in ",e.category]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h2",{className:"font-sans text-xl font-bold leading-snug text-foreground mb-2",children:e.title}),(0,t.jsx)("p",{className:"font-sans text-sm font-medium leading-relaxed text-slate-600 dark:text-slate-300",children:e.excerpt})]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2 mt-4",children:[(0,t.jsx)("span",{className:"text-[11px] font-bold text-primary/70 dark:text-primary/70 uppercase tracking-wide",children:e.readTime}),(0,t.jsx)("span",{className:"h-1 w-1 rounded-full bg-primary/30"}),(0,t.jsx)("span",{className:"text-[11px] font-bold text-primary/70 dark:text-primary/70 uppercase tracking-wide",children:e.postedAt})]})]}):(0,t.jsxs)(l.default,{href:d,className:(0,o.cn)("h-full flex flex-col justify-between group relative rounded-2xl bg-card p-5 shadow-[0_4px_20px_-2px_rgba(0,0,0,0.05)] hover:shadow-[0_10px_25px_-3px_rgba(46,106,122,0.1)] transition-all duration-300 border border-transparent hover:border-primary/20 dark:border-white/5 cursor-pointer","compact"===e.type&&"opacity-80 hover:opacity-100"),children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,t.jsx)("span",{className:"text-[10px] font-bold tracking-wider text-slate-500 dark:text-slate-400 uppercase",children:e.category}),1===e.favorite&&(0,t.jsx)("button",{onClick:f,className:"text-red-500 hover:text-red-600 transition-colors cursor-pointer z-10 p-1",title:"Remove from favorites",children:(0,t.jsx)(r.Heart,{className:"fill-current w-[22px] h-[22px]"})})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h2",{className:"font-sans text-xl font-bold leading-snug text-foreground mb-2 group-hover:text-primary transition-colors",children:e.title}),(0,t.jsx)("p",{className:"font-sans text-sm font-medium leading-relaxed text-slate-500 dark:text-slate-400 line-clamp-2",children:e.excerpt})]})]}),(0,t.jsxs)("div",{className:"flex items-center justify-between pt-4 mt-auto",children:[(0,t.jsxs)("span",{className:"text-[11px] font-bold text-slate-400 dark:text-slate-500 uppercase tracking-wide",children:[e.readTime," • ",e.postedAt]}),e.authorAvatar&&(0,t.jsx)("div",{className:"flex -space-x-2",children:(0,t.jsx)("div",{className:"h-5 w-5 rounded-full ring-2 ring-white dark:ring-[#1e1e1e] bg-slate-200",children:(0,t.jsx)(i.Avatar,{className:"h-full w-full",children:(0,t.jsx)(i.AvatarImage,{src:e.authorAvatar})})})})]})]})}e.s(["ArticleCard",()=>d],15343)},7983,(e,t,r)=>{"use strict";var a=e.r(66634),n="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},o=a.useState,i=a.useEffect,l=a.useLayoutEffect,s=a.useDebugValue;function c(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!n(e,r)}catch(e){return!0}}var u="u"<typeof window||void 0===window.document||void 0===window.document.createElement?function(e,t){return t()}:function(e,t){var r=t(),a=o({inst:{value:r,getSnapshot:t}}),n=a[0].inst,u=a[1];return l(function(){n.value=r,n.getSnapshot=t,c(n)&&u({inst:n})},[e,r,t]),i(function(){return c(n)&&u({inst:n}),e(function(){c(n)&&u({inst:n})})},[e]),s(r),r};r.useSyncExternalStore=void 0!==a.useSyncExternalStore?a.useSyncExternalStore:u},33347,(e,t,r)=>{"use strict";t.exports=e.r(7983)},99676,e=>{"use strict";var t=e.i(85069),r=e.i(66634),a=e.i(82219),n=e.i(75161),o=e.i(97521),i=e.i(28450),l=e.i(33347);function s(){return()=>{}}var c="Avatar",[u,d]=(0,a.createContextScope)(c),[f,p]=u(c),m=r.forwardRef((e,a)=>{let{__scopeAvatar:n,...o}=e,[l,s]=r.useState("idle");return(0,t.jsx)(f,{scope:n,imageLoadingStatus:l,onImageLoadingStatusChange:s,children:(0,t.jsx)(i.Primitive.span,{...o,ref:a})})});m.displayName=c;var h="AvatarImage",g=r.forwardRef((e,a)=>{let{__scopeAvatar:c,src:u,onLoadingStatusChange:d=()=>{},...f}=e,m=p(h,c),g=function(e,{referrerPolicy:t,crossOrigin:a}){let n=(0,l.useSyncExternalStore)(s,()=>!0,()=>!1),i=r.useRef(null),c=n?(i.current||(i.current=new window.Image),i.current):null,[u,d]=r.useState(()=>x(c,e));return(0,o.useLayoutEffect)(()=>{d(x(c,e))},[c,e]),(0,o.useLayoutEffect)(()=>{let e=e=>()=>{d(e)};if(!c)return;let r=e("loaded"),n=e("error");return c.addEventListener("load",r),c.addEventListener("error",n),t&&(c.referrerPolicy=t),"string"==typeof a&&(c.crossOrigin=a),()=>{c.removeEventListener("load",r),c.removeEventListener("error",n)}},[c,a,t]),u}(u,f),y=(0,n.useCallbackRef)(e=>{d(e),m.onImageLoadingStatusChange(e)});return(0,o.useLayoutEffect)(()=>{"idle"!==g&&y(g)},[g,y]),"loaded"===g?(0,t.jsx)(i.Primitive.img,{...f,ref:a,src:u}):null});g.displayName=h;var y="AvatarFallback",v=r.forwardRef((e,a)=>{let{__scopeAvatar:n,delayMs:o,...l}=e,s=p(y,n),[c,u]=r.useState(void 0===o);return r.useEffect(()=>{if(void 0!==o){let e=window.setTimeout(()=>u(!0),o);return()=>window.clearTimeout(e)}},[o]),c&&"loaded"!==s.imageLoadingStatus?(0,t.jsx)(i.Primitive.span,{...l,ref:a}):null});function x(e,t){return e?t?(e.src!==t&&(e.src=t),e.complete&&e.naturalWidth>0?"loaded":"loading"):"error":"idle"}v.displayName=y;var b=e.i(31924);function w({className:e,...r}){return(0,t.jsx)(m,{"data-slot":"avatar",className:(0,b.cn)("relative flex size-8 shrink-0 overflow-hidden rounded-full",e),...r})}function S({className:e,...r}){return(0,t.jsx)(g,{"data-slot":"avatar-image",className:(0,b.cn)("aspect-square size-full",e),...r})}function j({className:e,...r}){return(0,t.jsx)(v,{"data-slot":"avatar-fallback",className:(0,b.cn)("bg-muted flex size-full items-center justify-center rounded-full",e),...r})}e.s(["Avatar",()=>w,"AvatarFallback",()=>j,"AvatarImage",()=>S],99676)},5724,e=>{"use strict";var t=e.i(71111);let r=(0,t.createServerReference)("7071469f1c10dd4a7a0965c4857b3549c0dc9e8501",t.callServer,void 0,t.findSourceMapURL,"getArticlesAction");e.s(["getArticlesAction",()=>r])},13862,e=>{"use strict";let t=(0,e.i(98631).default)("clock",[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);e.s(["Clock",()=>t],13862)},44095,e=>{"use strict";var t=e.i(66634),r=e.i(44340),a=e.i(85069),n=Symbol.for("react.lazy"),o=t[" use ".trim().toString()];function i(e){var t;return null!=e&&"object"==typeof e&&"$$typeof"in e&&e.$$typeof===n&&"_payload"in e&&"object"==typeof(t=e._payload)&&null!==t&&"then"in t}function l(e){var n;let l,s=(n=e,(l=t.forwardRef((e,a)=>{let{children:n,...l}=e;if(i(n)&&"function"==typeof o&&(n=o(n._payload)),t.isValidElement(n)){var s;let e,o,i=(s=n,(o=(e=Object.getOwnPropertyDescriptor(s.props,"ref")?.get)&&"isReactWarning"in e&&e.isReactWarning)?s.ref:(o=(e=Object.getOwnPropertyDescriptor(s,"ref")?.get)&&"isReactWarning"in e&&e.isReactWarning)?s.props.ref:s.props.ref||s.ref),c=function(e,t){let r={...t};for(let a in t){let n=e[a],o=t[a];/^on[A-Z]/.test(a)?n&&o?r[a]=(...e)=>{let t=o(...e);return n(...e),t}:n&&(r[a]=n):"style"===a?r[a]={...n,...o}:"className"===a&&(r[a]=[n,o].filter(Boolean).join(" "))}return{...e,...r}}(l,n.props);return n.type!==t.Fragment&&(c.ref=a?(0,r.composeRefs)(a,i):i),t.cloneElement(n,c)}return t.Children.count(n)>1?t.Children.only(null):null})).displayName=`${n}.SlotClone`,l),c=t.forwardRef((e,r)=>{let{children:n,...l}=e;i(n)&&"function"==typeof o&&(n=o(n._payload));let c=t.Children.toArray(n),d=c.find(u);if(d){let e=d.props.children,n=c.map(r=>r!==d?r:t.Children.count(e)>1?t.Children.only(null):t.isValidElement(e)?e.props.children:null);return(0,a.jsx)(s,{...l,ref:r,children:t.isValidElement(e)?t.cloneElement(e,void 0,n):null})}return(0,a.jsx)(s,{...l,ref:r,children:n})});return c.displayName=`${e}.Slot`,c}var s=l("Slot"),c=Symbol("radix.slottable");function u(e){return t.isValidElement(e)&&"function"==typeof e.type&&"__radixId"in e.type&&e.type.__radixId===c}e.s(["Slot",()=>s,"createSlot",()=>l])},16024,82219,28450,e=>{"use strict";let t=(0,e.i(98631).default)("search",[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]]);e.s(["Search",()=>t],16024);var r=e.i(66634),a=e.i(85069);function n(e,t=[]){let o=[],i=()=>{let t=o.map(e=>r.createContext(e));return function(a){let n=a?.[e]||t;return r.useMemo(()=>({[`__scope${e}`]:{...a,[e]:n}}),[a,n])}};return i.scopeName=e,[function(t,n){let i=r.createContext(n);i.displayName=t+"Context";let l=o.length;o=[...o,n];let s=t=>{let{scope:n,children:o,...s}=t,c=n?.[e]?.[l]||i,u=r.useMemo(()=>s,Object.values(s));return(0,a.jsx)(c.Provider,{value:u,children:o})};return s.displayName=t+"Provider",[s,function(a,o){let s=o?.[e]?.[l]||i,c=r.useContext(s);if(c)return c;if(void 0!==n)return n;throw Error(`\`${a}\` must be used within \`${t}\``)}]},function(...e){let t=e[0];if(1===e.length)return t;let a=()=>{let a=e.map(e=>({useScope:e(),scopeName:e.scopeName}));return function(e){let n=a.reduce((t,{useScope:r,scopeName:a})=>{let n=r(e)[`__scope${a}`];return{...t,...n}},{});return r.useMemo(()=>({[`__scope${t.scopeName}`]:n}),[n])}};return a.scopeName=t.scopeName,a}(i,...t)]}e.s(["createContextScope",()=>n],82219),e.i(48759);var o=e.i(44095),i=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"].reduce((e,t)=>{let n=(0,o.createSlot)(`Primitive.${t}`),i=r.forwardRef((e,r)=>{let{asChild:o,...i}=e;return"u">typeof window&&(window[Symbol.for("radix-ui")]=!0),(0,a.jsx)(o?n:t,{...i,ref:r})});return i.displayName=`Primitive.${t}`,{...e,[t]:i}},{});e.s(["Primitive",()=>i],28450)},18807,e=>{"use strict";var t=e.i(20128),r=e.i(5724),a=e.i(71111);let n=(0,a.createServerReference)("00d4b7cbca808502a327e7dcd6826523706b097f56",a.callServer,void 0,a.findSourceMapURL,"getTopicsAction"),o=(0,a.createServerReference)("00e0638119c86600efeb1f4b18ef588fc565ea2cf1",a.callServer,void 0,a.findSourceMapURL,"getUserProfileAction"),i=(0,t.create)((e,t)=>({user:null,topics:[],articles:[],activeTopicId:"all",isLoading:!1,page:1,hasMore:!0,fetchInitialData:async()=>{e({isLoading:!0,page:1,hasMore:!0});try{let[t,a,i]=await Promise.all([o(),n(),(0,r.getArticlesAction)(void 0,1,10)]),l=i.length>=10;e({user:t,topics:a,articles:i,isLoading:!1,hasMore:l,page:1})}catch(t){console.error("Failed to fetch home data:",t),e({isLoading:!1})}},loadMoreArticles:async()=>{let{page:a,activeTopicId:n,isLoading:o,hasMore:i}=t();if(!o&&i){e({isLoading:!0});try{let t=a+1,o=await (0,r.getArticlesAction)("all"===n?void 0:n,t,10);o.length<10&&e({hasMore:!1}),e(e=>{let r=[...e.articles,...o];return{articles:Array.from(new Map(r.map(e=>[e.id,e])).values()),page:t,isLoading:!1}})}catch(t){console.error("Failed to load more articles:",t),e({isLoading:!1})}}},setActiveTopic:async t=>{e({activeTopicId:t,isLoading:!0,page:1,hasMore:!0,articles:[]});try{let a=await (0,r.getArticlesAction)("all"===t?void 0:t,1,10),n=a.length>=10;e({articles:a,isLoading:!1,hasMore:n})}catch(t){console.error("Failed to update topic:",t),e({isLoading:!1})}}}));e.s(["useHomeStore",0,i],18807)},52683,e=>{"use strict";var t=e.i(85069),r=e.i(16024),a=e.i(99676),n=e.i(18807),o=e.i(81756),i=e.i(6891),l=e.i(98183);function s(){let{user:e}=(0,n.useHomeStore)(),s=(0,i.useTranslation)(),{lang:c}=(0,l.useLangStore)(),u=new Date().toLocaleDateString("en"===c?"en-US":"zh-CN",{weekday:"long",month:"en"===c?"short":"long",day:"numeric"});return(0,t.jsx)("header",{className:"sticky top-0 z-40 bg-white/90 dark:bg-[#0a0a0a]/90 backdrop-blur-md transition-all duration-300 border-b border-transparent dark:border-white/5",children:(0,t.jsxs)("div",{className:"flex items-center justify-between px-6 pt-8 pb-4",children:[(0,t.jsxs)("div",{className:"flex flex-col",children:[(0,t.jsx)("h1",{className:"text-3xl font-serif font-bold leading-tight tracking-tight text-[#101818] dark:text-white",children:s.home.todaysRead}),(0,t.jsx)("span",{className:"text-xs font-bold text-slate-400 dark:text-slate-500 uppercase tracking-widest mb-1",children:u})]}),(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)(o.default,{href:"/search",className:"flex items-center justify-center h-10 w-10 rounded-full hover:bg-slate-100 dark:hover:bg-white/10 transition-colors text-slate-900 dark:text-white cursor-pointer",children:(0,t.jsx)(r.Search,{className:"w-[26px] h-[26px]",strokeWidth:2})}),(0,t.jsx)("div",{className:"h-9 w-9 overflow-hidden rounded-full ring-2 ring-white dark:ring-white/10 shadow-sm cursor-pointer",children:(0,t.jsxs)(a.Avatar,{className:"h-full w-full",children:[(0,t.jsx)(a.AvatarImage,{src:e?.avatarUrl,className:"object-cover"}),(0,t.jsx)(a.AvatarFallback,{children:e?.name?.[0]||"U"})]})})]})]})})}var c=e.i(31924),u=e.i(35449);function d(){let{topics:e,activeTopicId:r}=(0,n.useHomeStore)(),a=(0,i.useTranslation)(),o=(0,u.useRouter)(),l=(0,u.useSearchParams)();return(0,t.jsx)("div",{className:"w-full overflow-x-auto no-scrollbar pl-6 py-4 space-x-3 whitespace-nowrap bg-white dark:bg-[#0a0a0a] z-30",children:e.map(e=>{let n,i=e.id===r||e.slug===r||"all"===r&&"all"===e.slug;return(0,t.jsx)("button",{onClick:()=>{var t;let r;return t=e.id,r=new URLSearchParams(l.toString()),void("all"===t?r.delete("topic"):r.set("topic",t),o.push(`/?${r.toString()}`))},className:(0,c.cn)("inline-flex items-center justify-center px-5 py-2 rounded-full text-sm font-bold transition-all cursor-pointer",i?"bg-primary text-white shadow-[0_4px_20px_-2px_rgba(0,0,0,0.05)] hover:shadow-[0_10px_25px_-3px_rgba(46,106,122,0.1)]":"bg-white dark:bg-[var(--surface-dark)] border border-slate-200 dark:border-white/10 text-slate-600 dark:text-slate-300 font-semibold hover:border-primary/50 hover:text-primary"),children:(n=e.slug?.toLowerCase())&&a.home.contentTypes&&n in a.home.contentTypes?a.home.contentTypes[n]:e.name},e.id)})})}var f=e.i(72169),p=e.i(15343),m=e.i(79278),h=e.i(66634);function g(){let{articles:e,isLoading:r,hasMore:a,fetchInitialData:o,loadMoreArticles:i,setActiveTopic:l,activeTopicId:c}=(0,n.useHomeStore)(),g=(0,u.useSearchParams)();return(0,h.useEffect)(()=>{o()},[o]),(0,h.useEffect)(()=>{let e=g.get("topic")||"all";e!==c&&l(e)},[g,l,c]),(0,h.useEffect)(()=>{let e=new IntersectionObserver(e=>{e[0].isIntersecting&&a&&!r&&i()},{threshold:1}),t=document.getElementById("scroll-trigger");return t&&e.observe(t),()=>{t&&e.unobserve(t)}},[a,r,i]),(0,t.jsxs)("div",{className:"relative flex min-h-screen w-full flex-col overflow-x-hidden bg-white dark:bg-[#0a0a0a]",children:[(0,t.jsxs)("div",{className:"w-full md:max-w-2xl lg:max-w-4xl xl:max-w-6xl mx-auto min-h-screen pb-24 bg-white dark:bg-[#0a0a0a]",children:[(0,t.jsx)(s,{}),(0,t.jsx)(d,{}),(0,t.jsxs)("main",{className:"px-6 pt-4",children:[(0,t.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-5",children:e.map(e=>(0,t.jsx)(p.ArticleCard,{article:e},e.id))}),(0,t.jsxs)("div",{id:"scroll-trigger",className:"flex justify-center py-8 w-full col-span-full",children:[r&&(0,t.jsx)(m.Loader2,{className:"h-8 w-8 animate-spin text-primary"}),!a&&e.length>0&&(0,t.jsx)("p",{className:"text-sm text-muted-foreground",children:"No more articles"})]})]})]}),(0,t.jsx)("div",{className:"fixed bottom-0 left-0 right-0 z-50 pointer-events-none",children:(0,t.jsx)("div",{className:"w-full max-w-md mx-auto pointer-events-auto",children:(0,t.jsx)(f.BottomNavbar,{})})})]})}function y(){return(0,t.jsx)(h.Suspense,{fallback:(0,t.jsx)("div",{className:"flex items-center justify-center min-h-screen bg-white dark:bg-[#0a0a0a]",children:(0,t.jsx)(m.Loader2,{className:"h-8 w-8 animate-spin text-primary"})}),children:(0,t.jsx)(g,{})})}e.s(["default",()=>y],52683)}]);