(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,35449,(e,t,r)=>{t.exports=e.r(34516)},8943,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"warnOnce",{enumerable:!0,get:function(){return a}});let a=e=>{}},7705,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"useMergedRef",{enumerable:!0,get:function(){return n}});let a=e.r(66634);function n(e,t){let r=(0,a.useRef)(null),n=(0,a.useRef)(null);return(0,a.useCallback)(a=>{if(null===a){let e=r.current;e&&(r.current=null,e());let t=n.current;t&&(n.current=null,t())}else e&&(r.current=s(e,a)),t&&(n.current=s(t,a))},[e,t])}function s(e,t){if("function"!=typeof e)return e.current=t,()=>{e.current=null};{let r=e(t);return"function"==typeof r?r:()=>e(null)}}("function"==typeof r.default||"object"==typeof r.default&&null!==r.default)&&void 0===r.default.__esModule&&(Object.defineProperty(r.default,"__esModule",{value:!0}),Object.assign(r.default,r),t.exports=r.default)},30438,e=>{e.v({nav:{home:"HOME",library:"LIBRARY",guide:"GUIDE",profile:"PROFILE"},home:{todaysRead:"Today's Read",mustRead:"MUST READ",selectedForYou:"SELECTED FOR YOU",contentTypes:{all:"All",tutorial:"Tutorial",concept:"Concept",narrative:"Narrative",opinion:"Opinion",news:"News",resource:"Resource",collection:"Collection",pin:"Pin",favorite:"Favorite",answer:"Answer",article:"Article"}},search:{placeholder:"Search topics, articles...",discovery:"Discovery",recent:"RECENT",clearAll:"CLEAR ALL",resultsFor:"Results for",noResults:"No results found.",searching:"Searching...",trending:"Trending Now",filters:{title:"Filters",sortBy:"Sort By",category:"Category",all:"All",reset:"Reset all filters",articles:"Articles",sortOptions:{relevance:"Recommended",newest:"Newest",oldest:"Oldest"}}},library:{title:"Library",subtitle:"Curated Collections",seeAll:"See All",empty:"No collections found.",seedHint:"Run 'pnpm seed' to populate data.",updated:"Updated",books:"Books",syncTitle:"Pull books from OPDS",syncStatus:"Sync Status",syncRunning:"Syncing Library",syncSuccess:"Sync Complete",syncError:"Sync Failed",initializing:"Initializing...",preparing:"Preparing...",foundBooks:"Found {count} books",importing:"Importing: {title}",syncCompleteCount:"Sync complete. Imported {count} new books",noBooksFound:"No books found",search:"Search Collections",searchPlaceholder:"Enter collection name...",createNew:"Create New",editCollection:"Edit Collection",deleteCollection:"Delete Collection",deleteConfirm:"Are you sure you want to delete this collection? Books will not be deleted.",collectionName:"Collection Name",enterName:"Enter collection name",sortBy:"Sort",sortByName:"By Name",sortByDate:"By Date",sortByCustom:"Custom Order",addToCollection:"Add to Collection",removeFromCollection:"Remove from Collection"},profile:{title:"Profile",settings:"Settings",appearance:"Appearance",preferences:"Preferences",language:"Language",theme:"Theme",logOut:"Log Out",readingHistory:"Reading History",chatHistory:"Chat History",view:"VIEW",dataManagement:{title:"Data Management",history:"History",articles:"Articles",chats:"AI Chats",insights:"Insights",library:"Library Data",confirmTitle:"Delete {label}?",confirmDesc:"Are you sure you want to delete all {label}?",deleteWarning:"⚠️ Warning: This action will permanently delete all data and cannot be recovered!",deleteError:"Failed to delete data",deleteSuccess:"Successfully deleted {label}",confirmButton:"Confirm Delete",cancelButton:"Cancel",note:"Note: Deleting data is a permanent action. Once you delete a category, all associated content and preferences will be permanently removed from your device.",threads:"threads"},promptEditor:"Prompt Editor",importData:"Import Data",appSettings:"App Settings",help:"Help & Support",items:"items",articlesRead:"Articles read",wordCount:"Word count",contributionGraph:{title:"Reading Contributions",noData:"No reading data found",weekdays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],totalCount:"{{count}} articles"}},settings:{title:"Settings",appearance:"Appearance",preferences:"Preferences",application:"Application",theme:"Theme",typography:"Typography",notifications:"Notifications",privacy:"Privacy & Security",about:"About",licenses:"Licenses",opds:"OPDS Server",opdsSubtitle:"Connect to external catalogs",connect:"Connect",serverUrl:"Server URL",username:"Username",password:"Password",language:"Language",loadImages:"Load Images",loadImagesSub:"Toggle image loading to save data",aiModel:"AI Model",selectModel:"Select Gemini Model",guideViewMode:{title:"Guide View Mode",swipe:"Swipe Card",feed:"Vertical Feed"}},auth:{welcome:"Welcome back",enter:"Enter",identityAccess:"Identity Access",passphrasePlaceholder:"Enter your passphrase...",loginFailed:"Login failed"},guide:{title:"Guide",progress:"Progress","3minRead":"3 min read",insight:"Insight",noInsights:"No insights found yet.",deleteConfirm:"Delete this insight?",filterAll:"All",filterThinking:"Thinking",filterInsight:"Insight",filterFavorites:"Favorites"},article:{notFound:"Article not found.",goHome:"Go Home",editTags:"Edit Tags",addTag:"Add a new tag...",editTagsDescription:"Edit article tags",summary:"SUMMARY",thinking:"THINKING",aiInsight:{title:"AI Insight Generation",label:"What are you looking for? (Optional)",placeholder:"E.g., Summarize key points, List all tools mentioned...",generating:"Generating...",generate:"Generate"},share:"Share Article",delete:"Delete Article",deleteConfirm:"Are you sure you want to permanently delete this article? This action cannot be undone.",deleteAiChat:"Delete AI Chat",deleteAiChatConfirm:"Are you sure you want to delete the AI chat history for this article?"},common:{save:"Save Changes",cancel:"Cancel",confirm:"Confirm",loading:"Loading..."},promptEditor:{title:"Gemini Prompt",saveChanges:"Save Changes",close:"Close",placeholder:"Start typing your prompt here... use Markdown for structure.",saveSuccess:"Prompt saved successfully",saveError:"Failed to save prompt",restoreDefaults:"Restore Defaults",unsavedChangesTitle:"Unsaved Changes",unsavedChangesDescription:"You have unsaved changes. If you leave, your changes will be lost.",leave:"Leave",stay:"Stay"}})},89778,e=>{e.v({nav:{home:"首页",library:"书馆",guide:"洞察",profile:"我的"},home:{todaysRead:"今日阅读",mustRead:"必读推荐",selectedForYou:"精选内容",contentTypes:{all:"全部",tutorial:"实操教程",concept:"深度解析",narrative:"叙事经历",opinion:"观点评论",news:"资讯快报",resource:"素材资源",collection:"清单合集",pin:"想法",favorite:"收藏",answer:"答案",article:"文章"}},search:{placeholder:"搜索话题、文章...",discovery:"发现",recent:"最近搜索",clearAll:"清除全部",resultsFor:"搜索结果：",noResults:"未找到相关结果",searching:"搜索中...",trending:"热门话题",filters:{title:"筛选",sortBy:"排序方式",category:"分类",all:"全部",reset:"重置所有筛选",articles:"篇文章",sortOptions:{relevance:"推荐",newest:"最新发布",oldest:"最早发布"}}},library:{title:"藏书馆",subtitle:"精选书单",seeAll:"查看全部",empty:"暂无书单",seedHint:"请运行 'pnpm seed' 生成数据",updated:"更新于",books:"本书",syncTitle:"从 OPDS 拉取图书",syncStatus:"同步状态",syncRunning:"正在同步藏书馆",syncSuccess:"同步完成",syncError:"同步失败",initializing:"正在初始化...",preparing:"准备中...",foundBooks:"已找到 {count} 本书",importing:"正在导入: {title}",syncCompleteCount:"同步完成，已导入 {count} 本新书",noBooksFound:"未找到任何书籍",search:"搜索书单",searchPlaceholder:"输入书单名称...",createNew:"新建书单",editCollection:"编辑书单",deleteCollection:"删除书单",deleteConfirm:"确定要删除此书单吗？书单中的书籍不会被删除。",collectionName:"书单名称",enterName:"请输入书单名称",sortBy:"排序",sortByName:"按名称",sortByDate:"按创建时间",sortByCustom:"自定义顺序",addToCollection:"添加到书单",removeFromCollection:"从书单移除"},profile:{title:"个人中心",settings:"设置",appearance:"外观",preferences:"偏好",language:"语言",theme:"主题",logOut:"退出登录",readingHistory:"阅读历史",chatHistory:"对话历史",view:"查看",dataManagement:{title:"数据管理",history:"历史记录",articles:"文章数据",chats:"AI 对话",insights:"洞察数据",library:"藏书馆数据",confirmTitle:"删除 {label}？",confirmDesc:"您确定要删除所有 {label} 吗？",deleteWarning:"⚠️ 警告：此操作将永久删除所有数据，无法恢复！",deleteError:"删除数据失败",deleteSuccess:"已成功删除 {label}",confirmButton:"确认删除",cancelButton:"取消",note:"注意：删除数据是永久性操作。一旦删除某个类别，所有相关内容和设置将从您的设备中永久移除。",threads:"条对话"},promptEditor:"提示词编辑器",importData:"导入数据",appSettings:"应用设置",help:"帮助与支持",items:"项",articlesRead:"已读文章",wordCount:"阅读字数",contributionGraph:{title:"阅读贡献",noData:"暂无阅读数据",weekdays:["日","一","二","三","四","五","六"],months:["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月"],totalCount:"{{count}} 篇文章"}},settings:{title:"设置",appearance:"外观",preferences:"偏好设置",application:"应用程序",theme:"主题",typography:"排版",notifications:"通知",privacy:"隐私与安全",about:"关于",licenses:"开源许可",opds:"OPDS 服务器",opdsSubtitle:"连接外部目录",connect:"连接",serverUrl:"服务器地址",username:"用户名",password:"密码",language:"语言",loadImages:"加载图片",loadImagesSub:"开启图片加载以节省流量",aiModel:"AI 模型",selectModel:"选择生成模型",guideViewMode:{title:"阅读试图模式",swipe:"卡片翻阅",feed:"垂直信息流"}},auth:{welcome:"欢迎回来",enter:"进入",identityAccess:"身份验证",passphrasePlaceholder:"请输入您的口令短语...",loginFailed:"登录失败"},guide:{title:"深度洞察",progress:"进度","3minRead":"3 分钟阅读",insight:"洞察",noInsights:"暂无洞察内容。",deleteConfirm:"确定删除此洞察？",filterAll:"全部",filterThinking:"思考",filterInsight:"洞察",filterFavorites:"收藏"},article:{notFound:"未找到文章。",goHome:"返回首页",editTags:"编辑标签",addTag:"添加新标签...",editTagsDescription:"编辑文章标签",summary:"摘要",thinking:"思考",aiInsight:{title:"AI 洞察生成",label:"您想了解什么？（可选）",placeholder:"例如：总结关键点，列出所有提及的工具...",generating:"正在生成...",generate:"生成"},share:"分享文章",delete:"删除文章",deleteConfirm:"您确定要永久删除这篇文章吗？此操作无法撤销。",deleteAiChat:"删除 AI 对话",deleteAiChatConfirm:"您确定要删除此文章的 AI 对话历史吗？"},common:{save:"保存更改",cancel:"取消",confirm:"确认",loading:"加载中..."},promptEditor:{title:"Gemini 提示词",saveChanges:"保存更改",close:"关闭",placeholder:"在此输入您的提示词... 支持 Markdown 结构。",saveSuccess:"提示词已成功保存",saveError:"保存提示词失败",restoreDefaults:"恢复默认",unsavedChangesTitle:"未保存的更改",unsavedChangesDescription:"您有未保存的更改。如果您离开，这些更改将丢失。",leave:"离开",stay:"留下"}})},71111,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});var a={callServer:function(){return s.callServer},createServerReference:function(){return l.createServerReference},findSourceMapURL:function(){return i.findSourceMapURL}};for(var n in a)Object.defineProperty(r,n,{enumerable:!0,get:a[n]});let s=e.r(61547),i=e.r(55313),l=e.r(81553)},20128,e=>{"use strict";var t=e.i(66634);let r=e=>{let t,r=new Set,a=(e,a)=>{let n="function"==typeof e?e(t):e;if(!Object.is(n,t)){let e=t;t=(null!=a?a:"object"!=typeof n||null===n)?n:Object.assign({},t,n),r.forEach(r=>r(t,e))}},n=()=>t,s={setState:a,getState:n,getInitialState:()=>i,subscribe:e=>(r.add(e),()=>r.delete(e))},i=t=e(a,n,s);return s},a=e=>{let a=e?r(e):r,n=e=>(function(e,r=e=>e){let a=t.default.useSyncExternalStore(e.subscribe,t.default.useCallback(()=>r(e.getState()),[e,r]),t.default.useCallback(()=>r(e.getInitialState()),[e,r]));return t.default.useDebugValue(a),a})(a,e);return Object.assign(n,a),n},n=e=>e?a(e):a;e.s(["create",()=>n],20128)},6891,69087,98183,e=>{"use strict";var t=e.i(20128);let r=e=>t=>{try{let a=e(t);if(a instanceof Promise)return a;return{then:e=>r(e)(a),catch(e){return this}}}catch(e){return{then(e){return this},catch:t=>r(t)(e)}}},a=(e,t)=>(a,n,s)=>{let i,l={storage:function(e,t){let r;try{r=e()}catch(e){return}return{getItem:e=>{var t;let a=e=>null===e?null:JSON.parse(e,void 0),n=null!=(t=r.getItem(e))?t:null;return n instanceof Promise?n.then(a):a(n)},setItem:(e,t)=>r.setItem(e,JSON.stringify(t,void 0)),removeItem:e=>r.removeItem(e)}}(()=>localStorage),partialize:e=>e,version:0,merge:(e,t)=>({...t,...e}),...t},o=!1,c=0,d=new Set,u=new Set,p=l.storage;if(!p)return e((...e)=>{console.warn(`[zustand persist middleware] Unable to update item '${l.name}', the given storage is currently unavailable.`),a(...e)},n,s);let f=()=>{let e=l.partialize({...n()});return p.setItem(l.name,{state:e,version:l.version})},h=s.setState;s.setState=(e,t)=>(h(e,t),f());let m=e((...e)=>(a(...e),f()),n,s);s.getInitialState=()=>m;let g=()=>{var e,t;if(!p)return;let s=++c;o=!1,d.forEach(e=>{var t;return e(null!=(t=n())?t:m)});let h=(null==(t=l.onRehydrateStorage)?void 0:t.call(l,null!=(e=n())?e:m))||void 0;return r(p.getItem.bind(p))(l.name).then(e=>{if(e)if("number"!=typeof e.version||e.version===l.version)return[!1,e.state];else{if(l.migrate){let t=l.migrate(e.state,e.version);return t instanceof Promise?t.then(e=>[!0,e]):[!0,t]}console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}return[!1,void 0]}).then(e=>{var t;if(s!==c)return;let[r,o]=e;if(a(i=l.merge(o,null!=(t=n())?t:m),!0),r)return f()}).then(()=>{s===c&&(null==h||h(i,void 0),i=n(),o=!0,u.forEach(e=>e(i)))}).catch(e=>{s===c&&(null==h||h(void 0,e))})};return s.persist={setOptions:e=>{l={...l,...e},e.storage&&(p=e.storage)},clearStorage:()=>{null==p||p.removeItem(l.name)},getOptions:()=>l,rehydrate:()=>g(),hasHydrated:()=>o,onHydrate:e=>(d.add(e),()=>{d.delete(e)}),onFinishHydration:e=>(u.add(e),()=>{u.delete(e)})},l.skipHydration||g(),i||m};e.s(["persist",()=>a],69087);let n=(0,t.create)()(a(e=>({lang:"en",setLang:t=>{e({lang:t}),document.cookie=`NEXT_LOCALE=${t}; path=/; max-age=31536000; SameSite=Lax`}}),{name:"lang-storage"}));e.s(["useLangStore",0,n],98183);var s=e.i(30438),i=e.i(89778);let l={en:s.default,zh:i.default};function o(){let{lang:e}=n();return l[e]}e.s(["useTranslation",()=>o],6891)},53100,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});var a={assign:function(){return o},searchParamsToUrlQuery:function(){return s},urlQueryToSearchParams:function(){return l}};for(var n in a)Object.defineProperty(r,n,{enumerable:!0,get:a[n]});function s(e){let t={};for(let[r,a]of e.entries()){let e=t[r];void 0===e?t[r]=a:Array.isArray(e)?e.push(a):t[r]=[e,a]}return t}function i(e){return"string"==typeof e?e:("number"!=typeof e||isNaN(e))&&"boolean"!=typeof e?"":String(e)}function l(e){let t=new URLSearchParams;for(let[r,a]of Object.entries(e))if(Array.isArray(a))for(let e of a)t.append(r,i(e));else t.set(r,i(a));return t}function o(e,...t){for(let r of t){for(let t of r.keys())e.delete(t);for(let[t,a]of r.entries())e.append(t,a)}return e}},86482,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});var a={formatUrl:function(){return l},formatWithValidation:function(){return c},urlObjectKeys:function(){return o}};for(var n in a)Object.defineProperty(r,n,{enumerable:!0,get:a[n]});let s=e.r(44066)._(e.r(53100)),i=/https?|ftp|gopher|file/;function l(e){let{auth:t,hostname:r}=e,a=e.protocol||"",n=e.pathname||"",l=e.hash||"",o=e.query||"",c=!1;t=t?encodeURIComponent(t).replace(/%3A/i,":")+"@":"",e.host?c=t+e.host:r&&(c=t+(~r.indexOf(":")?`[${r}]`:r),e.port&&(c+=":"+e.port)),o&&"object"==typeof o&&(o=String(s.urlQueryToSearchParams(o)));let d=e.search||o&&`?${o}`||"";return a&&!a.endsWith(":")&&(a+=":"),e.slashes||(!a||i.test(a))&&!1!==c?(c="//"+(c||""),n&&"/"!==n[0]&&(n="/"+n)):c||(c=""),l&&"#"!==l[0]&&(l="#"+l),d&&"?"!==d[0]&&(d="?"+d),n=n.replace(/[?#]/g,encodeURIComponent),d=d.replace("#","%23"),`${a}${c}${n}${d}${l}`}let o=["auth","hash","host","hostname","href","path","pathname","port","protocol","query","search","slashes"];function c(e){return l(e)}},75,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});var a={DecodeError:function(){return x},MiddlewareNotFoundError:function(){return w},MissingStaticPage:function(){return b},NormalizeError:function(){return y},PageNotFoundError:function(){return v},SP:function(){return m},ST:function(){return g},WEB_VITALS:function(){return s},execOnce:function(){return i},getDisplayName:function(){return u},getLocationOrigin:function(){return c},getURL:function(){return d},isAbsoluteUrl:function(){return o},isResSent:function(){return p},loadGetInitialProps:function(){return h},normalizeRepeatedSlashes:function(){return f},stringifyError:function(){return j}};for(var n in a)Object.defineProperty(r,n,{enumerable:!0,get:a[n]});let s=["CLS","FCP","FID","INP","LCP","TTFB"];function i(e){let t,r=!1;return(...a)=>(r||(r=!0,t=e(...a)),t)}let l=/^[a-zA-Z][a-zA-Z\d+\-.]*?:/,o=e=>l.test(e);function c(){let{protocol:e,hostname:t,port:r}=window.location;return`${e}//${t}${r?":"+r:""}`}function d(){let{href:e}=window.location,t=c();return e.substring(t.length)}function u(e){return"string"==typeof e?e:e.displayName||e.name||"Unknown"}function p(e){return e.finished||e.headersSent}function f(e){let t=e.split("?");return t[0].replace(/\\/g,"/").replace(/\/\/+/g,"/")+(t[1]?`?${t.slice(1).join("?")}`:"")}async function h(e,t){let r=t.res||t.ctx&&t.ctx.res;if(!e.getInitialProps)return t.ctx&&t.Component?{pageProps:await h(t.Component,t.ctx)}:{};let a=await e.getInitialProps(t);if(r&&p(r))return a;if(!a)throw Object.defineProperty(Error(`"${u(e)}.getInitialProps()" should resolve to an object. But found "${a}" instead.`),"__NEXT_ERROR_CODE",{value:"E394",enumerable:!1,configurable:!0});return a}let m="u">typeof performance,g=m&&["mark","measure","getEntriesByName"].every(e=>"function"==typeof performance[e]);class x extends Error{}class y extends Error{}class v extends Error{constructor(e){super(),this.code="ENOENT",this.name="PageNotFoundError",this.message=`Cannot find module for page: ${e}`}}class b extends Error{constructor(e,t){super(),this.message=`Failed to load static file for page: ${e} ${t}`}}class w extends Error{constructor(){super(),this.code="ENOENT",this.message="Cannot find the middleware module"}}function j(e){return JSON.stringify({message:e.message,stack:e.stack})}},59664,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"isLocalURL",{enumerable:!0,get:function(){return s}});let a=e.r(75),n=e.r(74240);function s(e){if(!(0,a.isAbsoluteUrl)(e))return!0;try{let t=(0,a.getLocationOrigin)(),r=new URL(e,t);return r.origin===t&&(0,n.hasBasePath)(r.pathname)}catch(e){return!1}}},63217,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"errorOnce",{enumerable:!0,get:function(){return a}});let a=e=>{}},81756,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});var a={default:function(){return x},useLinkStatus:function(){return v}};for(var n in a)Object.defineProperty(r,n,{enumerable:!0,get:a[n]});let s=e.r(44066),i=e.r(85069),l=s._(e.r(66634)),o=e.r(86482),c=e.r(92116),d=e.r(7705),u=e.r(75),p=e.r(87483);e.r(8943);let f=e.r(79407),h=e.r(59664),m=e.r(21869);function g(e){return"string"==typeof e?e:(0,o.formatUrl)(e)}function x(t){var r;let a,n,s,[o,x]=(0,l.useOptimistic)(f.IDLE_LINK_STATUS),v=(0,l.useRef)(null),{href:b,as:w,children:j,prefetch:k=null,passHref:S,replace:N,shallow:C,scroll:A,onClick:E,onMouseEnter:R,onTouchStart:P,legacyBehavior:I=!1,onNavigate:T,ref:O,unstable_dynamicOnHover:_,...L}=t;a=j,I&&("string"==typeof a||"number"==typeof a)&&(a=(0,i.jsx)("a",{children:a}));let M=l.default.useContext(c.AppRouterContext),D=!1!==k,F=!1!==k?null===(r=k)||"auto"===r?m.FetchStrategy.PPR:m.FetchStrategy.Full:m.FetchStrategy.PPR,{href:$,as:B}=l.default.useMemo(()=>{let e=g(b);return{href:e,as:w?g(w):e}},[b,w]);if(I){if(a?.$$typeof===Symbol.for("react.lazy"))throw Object.defineProperty(Error("`<Link legacyBehavior>` received a direct child that is either a Server Component, or JSX that was loaded with React.lazy(). This is not supported. Either remove legacyBehavior, or make the direct child a Client Component that renders the Link's `<a>` tag."),"__NEXT_ERROR_CODE",{value:"E863",enumerable:!1,configurable:!0});n=l.default.Children.only(a)}let U=I?n&&"object"==typeof n&&n.ref:O,z=l.default.useCallback(e=>(null!==M&&(v.current=(0,f.mountLinkInstance)(e,$,M,F,D,x)),()=>{v.current&&((0,f.unmountLinkForCurrentNavigation)(v.current),v.current=null),(0,f.unmountPrefetchableInstance)(e)}),[D,$,M,F,x]),H={ref:(0,d.useMergedRef)(z,U),onClick(t){I||"function"!=typeof E||E(t),I&&n.props&&"function"==typeof n.props.onClick&&n.props.onClick(t),!M||t.defaultPrevented||function(t,r,a,n,s,i,o){if("u">typeof window){let c,{nodeName:d}=t.currentTarget;if("A"===d.toUpperCase()&&((c=t.currentTarget.getAttribute("target"))&&"_self"!==c||t.metaKey||t.ctrlKey||t.shiftKey||t.altKey||t.nativeEvent&&2===t.nativeEvent.which)||t.currentTarget.hasAttribute("download"))return;if(!(0,h.isLocalURL)(r)){s&&(t.preventDefault(),location.replace(r));return}if(t.preventDefault(),o){let e=!1;if(o({preventDefault:()=>{e=!0}}),e)return}let{dispatchNavigateAction:u}=e.r(56823);l.default.startTransition(()=>{u(a||r,s?"replace":"push",i??!0,n.current)})}}(t,$,B,v,N,A,T)},onMouseEnter(e){I||"function"!=typeof R||R(e),I&&n.props&&"function"==typeof n.props.onMouseEnter&&n.props.onMouseEnter(e),M&&D&&(0,f.onNavigationIntent)(e.currentTarget,!0===_)},onTouchStart:function(e){I||"function"!=typeof P||P(e),I&&n.props&&"function"==typeof n.props.onTouchStart&&n.props.onTouchStart(e),M&&D&&(0,f.onNavigationIntent)(e.currentTarget,!0===_)}};return(0,u.isAbsoluteUrl)(B)?H.href=B:I&&!S&&("a"!==n.type||"href"in n.props)||(H.href=(0,p.addBasePath)(B)),s=I?l.default.cloneElement(n,H):(0,i.jsx)("a",{...L,...H,children:a}),(0,i.jsx)(y.Provider,{value:o,children:s})}e.r(63217);let y=(0,l.createContext)(f.IDLE_LINK_STATUS),v=()=>(0,l.useContext)(y);("function"==typeof r.default||"object"==typeof r.default&&null!==r.default)&&void 0===r.default.__esModule&&(Object.defineProperty(r.default,"__esModule",{value:!0}),Object.assign(r.default,r),t.exports=r.default)},23714,e=>{"use strict";let t=(0,e.i(98631).default)("chevron-left",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);e.s(["ChevronLeft",()=>t],23714)},93479,e=>{"use strict";var t=e.i(85069),r=e.i(31924);function a({className:e,type:a,...n}){return(0,t.jsx)("input",{type:a,"data-slot":"input",className:(0,r.cn)("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",e),...n})}e.s(["Input",()=>a])},86914,e=>{"use strict";let t=(0,e.i(98631).default)("chevron-right",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);e.s(["ChevronRight",()=>t],86914)},44095,e=>{"use strict";var t=e.i(66634),r=e.i(44340),a=e.i(85069),n=Symbol.for("react.lazy"),s=t[" use ".trim().toString()];function i(e){var t;return null!=e&&"object"==typeof e&&"$$typeof"in e&&e.$$typeof===n&&"_payload"in e&&"object"==typeof(t=e._payload)&&null!==t&&"then"in t}function l(e){var n;let l,o=(n=e,(l=t.forwardRef((e,a)=>{let{children:n,...l}=e;if(i(n)&&"function"==typeof s&&(n=s(n._payload)),t.isValidElement(n)){var o;let e,s,i=(o=n,(s=(e=Object.getOwnPropertyDescriptor(o.props,"ref")?.get)&&"isReactWarning"in e&&e.isReactWarning)?o.ref:(s=(e=Object.getOwnPropertyDescriptor(o,"ref")?.get)&&"isReactWarning"in e&&e.isReactWarning)?o.props.ref:o.props.ref||o.ref),c=function(e,t){let r={...t};for(let a in t){let n=e[a],s=t[a];/^on[A-Z]/.test(a)?n&&s?r[a]=(...e)=>{let t=s(...e);return n(...e),t}:n&&(r[a]=n):"style"===a?r[a]={...n,...s}:"className"===a&&(r[a]=[n,s].filter(Boolean).join(" "))}return{...e,...r}}(l,n.props);return n.type!==t.Fragment&&(c.ref=a?(0,r.composeRefs)(a,i):i),t.cloneElement(n,c)}return t.Children.count(n)>1?t.Children.only(null):null})).displayName=`${n}.SlotClone`,l),c=t.forwardRef((e,r)=>{let{children:n,...l}=e;i(n)&&"function"==typeof s&&(n=s(n._payload));let c=t.Children.toArray(n),u=c.find(d);if(u){let e=u.props.children,n=c.map(r=>r!==u?r:t.Children.count(e)>1?t.Children.only(null):t.isValidElement(e)?e.props.children:null);return(0,a.jsx)(o,{...l,ref:r,children:t.isValidElement(e)?t.cloneElement(e,void 0,n):null})}return(0,a.jsx)(o,{...l,ref:r,children:n})});return c.displayName=`${e}.Slot`,c}var o=l("Slot"),c=Symbol("radix.slottable");function d(e){return t.isValidElement(e)&&"function"==typeof e.type&&"__radixId"in e.type&&e.type.__radixId===c}e.s(["Slot",()=>o,"createSlot",()=>l])},13862,e=>{"use strict";let t=(0,e.i(98631).default)("clock",[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);e.s(["Clock",()=>t],13862)},97106,e=>{"use strict";var t=e.i(71111);let r=(0,t.createServerReference)("702b3df265775fcbe32768e33e775928abf26fd690",t.callServer,void 0,t.findSourceMapURL,"getArticlesAction");e.s(["getArticlesAction",()=>r])},16024,82219,28450,e=>{"use strict";let t=(0,e.i(98631).default)("search",[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]]);e.s(["Search",()=>t],16024);var r=e.i(66634),a=e.i(85069);function n(e,t=[]){let s=[],i=()=>{let t=s.map(e=>r.createContext(e));return function(a){let n=a?.[e]||t;return r.useMemo(()=>({[`__scope${e}`]:{...a,[e]:n}}),[a,n])}};return i.scopeName=e,[function(t,n){let i=r.createContext(n);i.displayName=t+"Context";let l=s.length;s=[...s,n];let o=t=>{let{scope:n,children:s,...o}=t,c=n?.[e]?.[l]||i,d=r.useMemo(()=>o,Object.values(o));return(0,a.jsx)(c.Provider,{value:d,children:s})};return o.displayName=t+"Provider",[o,function(a,s){let o=s?.[e]?.[l]||i,c=r.useContext(o);if(c)return c;if(void 0!==n)return n;throw Error(`\`${a}\` must be used within \`${t}\``)}]},function(...e){let t=e[0];if(1===e.length)return t;let a=()=>{let a=e.map(e=>({useScope:e(),scopeName:e.scopeName}));return function(e){let n=a.reduce((t,{useScope:r,scopeName:a})=>{let n=r(e)[`__scope${a}`];return{...t,...n}},{});return r.useMemo(()=>({[`__scope${t.scopeName}`]:n}),[n])}};return a.scopeName=t.scopeName,a}(i,...t)]}e.s(["createContextScope",()=>n],82219),e.i(48759);var s=e.i(44095),i=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"].reduce((e,t)=>{let n=(0,s.createSlot)(`Primitive.${t}`),i=r.forwardRef((e,r)=>{let{asChild:s,...i}=e;return"u">typeof window&&(window[Symbol.for("radix-ui")]=!0),(0,a.jsx)(s?n:t,{...i,ref:r})});return i.displayName=`Primitive.${t}`,{...e,[t]:i}},{});e.s(["Primitive",()=>i],28450)},7983,(e,t,r)=>{"use strict";var a=e.r(66634),n="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},s=a.useState,i=a.useEffect,l=a.useLayoutEffect,o=a.useDebugValue;function c(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!n(e,r)}catch(e){return!0}}var d="u"<typeof window||void 0===window.document||void 0===window.document.createElement?function(e,t){return t()}:function(e,t){var r=t(),a=s({inst:{value:r,getSnapshot:t}}),n=a[0].inst,d=a[1];return l(function(){n.value=r,n.getSnapshot=t,c(n)&&d({inst:n})},[e,r,t]),i(function(){return c(n)&&d({inst:n}),e(function(){c(n)&&d({inst:n})})},[e]),o(r),r};r.useSyncExternalStore=void 0!==a.useSyncExternalStore?a.useSyncExternalStore:d},33347,(e,t,r)=>{"use strict";t.exports=e.r(7983)},99676,e=>{"use strict";var t=e.i(85069),r=e.i(66634),a=e.i(82219),n=e.i(75161),s=e.i(97521),i=e.i(28450),l=e.i(33347);function o(){return()=>{}}var c="Avatar",[d,u]=(0,a.createContextScope)(c),[p,f]=d(c),h=r.forwardRef((e,a)=>{let{__scopeAvatar:n,...s}=e,[l,o]=r.useState("idle");return(0,t.jsx)(p,{scope:n,imageLoadingStatus:l,onImageLoadingStatusChange:o,children:(0,t.jsx)(i.Primitive.span,{...s,ref:a})})});h.displayName=c;var m="AvatarImage",g=r.forwardRef((e,a)=>{let{__scopeAvatar:c,src:d,onLoadingStatusChange:u=()=>{},...p}=e,h=f(m,c),g=function(e,{referrerPolicy:t,crossOrigin:a}){let n=(0,l.useSyncExternalStore)(o,()=>!0,()=>!1),i=r.useRef(null),c=n?(i.current||(i.current=new window.Image),i.current):null,[d,u]=r.useState(()=>v(c,e));return(0,s.useLayoutEffect)(()=>{u(v(c,e))},[c,e]),(0,s.useLayoutEffect)(()=>{let e=e=>()=>{u(e)};if(!c)return;let r=e("loaded"),n=e("error");return c.addEventListener("load",r),c.addEventListener("error",n),t&&(c.referrerPolicy=t),"string"==typeof a&&(c.crossOrigin=a),()=>{c.removeEventListener("load",r),c.removeEventListener("error",n)}},[c,a,t]),d}(d,p),x=(0,n.useCallbackRef)(e=>{u(e),h.onImageLoadingStatusChange(e)});return(0,s.useLayoutEffect)(()=>{"idle"!==g&&x(g)},[g,x]),"loaded"===g?(0,t.jsx)(i.Primitive.img,{...p,ref:a,src:d}):null});g.displayName=m;var x="AvatarFallback",y=r.forwardRef((e,a)=>{let{__scopeAvatar:n,delayMs:s,...l}=e,o=f(x,n),[c,d]=r.useState(void 0===s);return r.useEffect(()=>{if(void 0!==s){let e=window.setTimeout(()=>d(!0),s);return()=>window.clearTimeout(e)}},[s]),c&&"loaded"!==o.imageLoadingStatus?(0,t.jsx)(i.Primitive.span,{...l,ref:a}):null});function v(e,t){return e?t?(e.src!==t&&(e.src=t),e.complete&&e.naturalWidth>0?"loaded":"loading"):"error":"idle"}y.displayName=x;var b=e.i(31924);function w({className:e,...r}){return(0,t.jsx)(h,{"data-slot":"avatar",className:(0,b.cn)("relative flex size-8 shrink-0 overflow-hidden rounded-full",e),...r})}function j({className:e,...r}){return(0,t.jsx)(g,{"data-slot":"avatar-image",className:(0,b.cn)("aspect-square size-full",e),...r})}function k({className:e,...r}){return(0,t.jsx)(y,{"data-slot":"avatar-fallback",className:(0,b.cn)("bg-muted flex size-full items-center justify-center rounded-full",e),...r})}e.s(["Avatar",()=>w,"AvatarFallback",()=>k,"AvatarImage",()=>j],99676)},79278,e=>{"use strict";let t=(0,e.i(98631).default)("loader-circle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);e.s(["Loader2",()=>t],79278)},25923,e=>{"use strict";let t=(0,e.i(98631).default)("heart",[["path",{d:"M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5",key:"mvr1a0"}]]);e.s(["Heart",()=>t],25923)},15343,e=>{"use strict";var t=e.i(85069),r=e.i(25923),a=e.i(13862);let n=(0,e.i(98631).default)("trending-up",[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]]);var s=e.i(31924),i=e.i(99676),l=e.i(81756),o=e.i(71111);let c=(0,o.createServerReference)("40b820b3378c39421e45c1e7adb3589241651babc6",o.callServer,void 0,o.findSourceMapURL,"unfavoriteArticleAction");var d=e.i(35449);function u({article:e}){let o=(0,d.useRouter)(),u=`/article/${e.id}`,p=async t=>{t.preventDefault(),t.stopPropagation(),window.confirm("Are you sure you want to remove this from favorites?")&&(await c(e.id)).success&&o.refresh()};return"featured"===e.type?(0,t.jsxs)(l.default,{href:u,className:"h-full flex flex-col justify-between group relative rounded-3xl bg-card p-6 shadow-[0_4px_20px_-2px_rgba(0,0,0,0.05)] hover:shadow-[0_10px_25px_-3px_rgba(46,106,122,0.1)] transition-all duration-300 border border-transparent hover:border-primary/20 dark:border-white/5 dark:hover:border-primary/40 cursor-pointer",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,t.jsx)("span",{className:"inline-block rounded bg-primary/10 px-2 py-1 text-[10px] font-bold tracking-wider text-primary uppercase",children:e.category}),1===e.favorite&&(0,t.jsx)("button",{onClick:p,className:"text-red-500 hover:text-red-600 transition-colors cursor-pointer z-10 p-1",title:"Remove from favorites",children:(0,t.jsx)(r.Heart,{className:"fill-current w-[22px] h-[22px]"})})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h2",{className:"font-sans text-2xl font-extrabold leading-tight text-foreground mb-3 group-hover:text-primary transition-colors",children:e.title}),(0,t.jsx)("p",{className:"font-sans text-sm font-medium leading-relaxed text-slate-500 dark:text-slate-400",children:e.excerpt})]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-3 pt-4 border-t border-slate-100 dark:border-white/5 mt-auto",children:[(0,t.jsxs)("span",{className:"text-[11px] font-bold text-slate-400 dark:text-slate-500 uppercase tracking-wide flex items-center gap-1",children:[(0,t.jsx)(a.Clock,{className:"w-[14px] h-[14px] align-middle"}),e.readTime]}),(0,t.jsx)("span",{className:"h-1 w-1 rounded-full bg-slate-300 dark:bg-slate-600"}),(0,t.jsx)("span",{className:"text-[11px] font-bold text-slate-400 dark:text-slate-500 uppercase tracking-wide",children:e.postedAt})]})]}):"highlight"===e.type?(0,t.jsxs)(l.default,{href:u,className:"h-full flex flex-col justify-between group relative rounded-2xl bg-primary/5 dark:bg-primary/10 p-5 border border-primary/10 dark:border-primary/20 cursor-pointer hover:border-primary/30 transition-all",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 mb-3",children:[(0,t.jsx)(n,{className:"text-primary w-[18px] h-[18px]"}),(0,t.jsxs)("span",{className:"text-[10px] font-bold tracking-wider text-primary uppercase",children:["Trending in ",e.category]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h2",{className:"font-sans text-xl font-bold leading-snug text-foreground mb-2",children:e.title}),(0,t.jsx)("p",{className:"font-sans text-sm font-medium leading-relaxed text-slate-600 dark:text-slate-300",children:e.excerpt})]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2 mt-4",children:[(0,t.jsx)("span",{className:"text-[11px] font-bold text-primary/70 dark:text-primary/70 uppercase tracking-wide",children:e.readTime}),(0,t.jsx)("span",{className:"h-1 w-1 rounded-full bg-primary/30"}),(0,t.jsx)("span",{className:"text-[11px] font-bold text-primary/70 dark:text-primary/70 uppercase tracking-wide",children:e.postedAt})]})]}):(0,t.jsxs)(l.default,{href:u,className:(0,s.cn)("h-full flex flex-col justify-between group relative rounded-2xl bg-card p-5 shadow-[0_4px_20px_-2px_rgba(0,0,0,0.05)] hover:shadow-[0_10px_25px_-3px_rgba(46,106,122,0.1)] transition-all duration-300 border border-transparent hover:border-primary/20 dark:border-white/5 cursor-pointer","compact"===e.type&&"opacity-80 hover:opacity-100"),children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,t.jsx)("span",{className:"text-[10px] font-bold tracking-wider text-slate-500 dark:text-slate-400 uppercase",children:e.category}),1===e.favorite&&(0,t.jsx)("button",{onClick:p,className:"text-red-500 hover:text-red-600 transition-colors cursor-pointer z-10 p-1",title:"Remove from favorites",children:(0,t.jsx)(r.Heart,{className:"fill-current w-[22px] h-[22px]"})})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h2",{className:"font-sans text-xl font-bold leading-snug text-foreground mb-2 group-hover:text-primary transition-colors",children:e.title}),(0,t.jsx)("p",{className:"font-sans text-sm font-medium leading-relaxed text-slate-500 dark:text-slate-400 line-clamp-2",children:e.excerpt})]})]}),(0,t.jsxs)("div",{className:"flex items-center justify-between pt-4 mt-auto",children:[(0,t.jsxs)("span",{className:"text-[11px] font-bold text-slate-400 dark:text-slate-500 uppercase tracking-wide",children:[e.readTime," • ",e.postedAt]}),e.authorAvatar&&(0,t.jsx)("div",{className:"flex -space-x-2",children:(0,t.jsx)("div",{className:"h-5 w-5 rounded-full ring-2 ring-white dark:ring-[#1e1e1e] bg-slate-200",children:(0,t.jsx)(i.Avatar,{className:"h-full w-full",children:(0,t.jsx)(i.AvatarImage,{src:e.authorAvatar})})})})]})]})}e.s(["ArticleCard",()=>u],15343)},90454,e=>{"use strict";var t=e.i(85069),r=e.i(16024),a=e.i(28781),n=e.i(23714),s=e.i(93479),i=e.i(20128),l=e.i(71111);let o=(0,l.createServerReference)("403e016c6e0897a037397014c71ea9e48634e8735e",l.callServer,void 0,l.findSourceMapURL,"searchArticlesAction");var c=e.i(69087);let d=(0,i.create)()((0,c.persist)((e,t)=>({query:"",filters:{},results:[],recentSearches:[],isLoading:!1,hasSearched:!1,setQuery:t=>e({query:t}),setFilter:(r,a)=>{e(e=>({filters:{...e.filters,[r]:a}}));let{query:n}=t();n.trim()&&t().performSearch(n)},performSearch:async r=>{let{query:a,filters:n,addRecentSearch:s}=t(),i=void 0!==r?r:a;if(!i.trim())return void e({results:[],hasSearched:!1});e({isLoading:!0,query:i,hasSearched:!0});try{let t={query:i,...n},r=await o(t);e({results:r,isLoading:!1}),s(i)}catch(t){console.error("Search store error:",t),e({results:[],isLoading:!1})}},clearSearch:()=>e({query:"",results:[],hasSearched:!1}),clearFilters:()=>e({filters:{}}),addRecentSearch:r=>{let{recentSearches:a}=t(),n=r.trim();n&&e({recentSearches:[n,...a.filter(e=>e!==n)].slice(0,10)})},clearRecentSearches:()=>e({recentSearches:[]})}),{name:"search-storage",partialize:e=>({recentSearches:e.recentSearches})}));var u=e.i(66634),p=e.i(35449),f=e.i(6891);function h(){let{query:e,setQuery:i,performSearch:l,clearSearch:o}=d(),[c,h]=(0,u.useState)(e),m=(0,p.useRouter)(),g=(0,f.useTranslation)();return(0,u.useEffect)(()=>{h(e)},[e]),(0,u.useEffect)(()=>{let e=setTimeout(()=>{c.trim()&&l(c)},500);return()=>clearTimeout(e)},[c,l]),(0,t.jsxs)("div",{className:"flex flex-col gap-6 px-6 pt-8 pb-4",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("button",{onClick:()=>m.back(),className:"p-2 -ml-2 rounded-full text-slate-400 hover:text-slate-900 dark:hover:text-white transition-colors",children:(0,t.jsx)(n.ChevronLeft,{className:"w-6 h-6"})}),(0,t.jsx)("h2",{className:"text-[#101818] dark:text-white text-3xl font-serif font-bold leading-tight tracking-tight",children:g.search.discovery})]}),(0,t.jsxs)("div",{className:"relative flex items-center bg-white dark:bg-zinc-900 border border-slate-200 dark:border-white/10 rounded-2xl px-5 py-3 transition-all duration-300 focus-within:border-primary/50 focus-within:shadow-[0_8px_30px_rgb(0,0,0,0.04)] dark:focus-within:shadow-[0_8px_30px_rgb(0,0,0,0.2)]",children:[(0,t.jsx)(r.Search,{className:"text-slate-400 dark:text-slate-500 mr-3 w-5 h-5 flex-shrink-0"}),(0,t.jsx)(s.Input,{className:"w-full bg-transparent border-none p-0 shadow-none focus-visible:ring-0 text-base font-medium placeholder:text-slate-400 dark:placeholder:text-slate-600 text-slate-900 dark:text-white h-auto",placeholder:g.search.placeholder,type:"text",value:c,onChange:e=>{let t=e.target.value;h(t),i(t)},onKeyDown:e=>{"Enter"===e.key&&l(c)}}),c&&(0,t.jsx)("button",{onClick:()=>{h(""),o()},className:"ml-2 p-1 rounded-full hover:bg-slate-100 dark:hover:bg-white/10 text-slate-400 hover:text-slate-600 dark:hover:text-slate-200 transition-all",children:(0,t.jsx)(a.X,{className:"w-4 h-4"})})]})]})}var m=e.i(13862),g=e.i(86914),x=e.i(97106);function y(){let e=(0,f.useTranslation)(),r=(0,p.useRouter)(),[a,n]=(0,u.useState)([]),[s,i]=(0,u.useState)(!0);return((0,u.useEffect)(()=>{(async()=>{try{let e=await (0,x.getArticlesAction)(void 0,1,5);n(e)}catch(e){console.error("Failed to load reading history:",e)}finally{i(!1)}})()},[]),s)?(0,t.jsxs)("section",{className:"mt-8 px-6",children:[(0,t.jsx)("div",{className:"h-4 w-24 bg-gray-100 dark:bg-gray-800 rounded animate-pulse mb-6"}),(0,t.jsx)("div",{className:"space-y-4",children:[1,2,3].map(e=>(0,t.jsx)("div",{className:"h-16 bg-gray-50 dark:bg-zinc-900/50 rounded-xl animate-pulse"},e))})]}):0===a.length?null:(0,t.jsxs)("section",{className:"mt-8 px-6",children:[(0,t.jsx)("h3",{className:"text-[11px] uppercase tracking-[0.15em] font-bold text-slate-400 dark:text-zinc-500 mb-6 font-sans",children:e.profile.readingHistory}),(0,t.jsx)("div",{className:"flex flex-col space-y-2",children:a.map(e=>(0,t.jsxs)("div",{onClick:()=>r.push(`/article/${e.id}`),className:"group flex items-center justify-between p-4 -mx-4 rounded-2xl cursor-pointer hover:bg-slate-50 dark:hover:bg-white/5 transition-all duration-300 active:scale-[0.98]",children:[(0,t.jsxs)("div",{className:"flex flex-col gap-1.5 min-w-0 flex-1 pr-4",children:[(0,t.jsx)("span",{className:"text-[15px] font-medium text-slate-900 dark:text-zinc-100 truncate group-hover:text-primary transition-colors",children:e.title}),(0,t.jsxs)("div",{className:"flex items-center gap-3 text-[11px] text-slate-400 dark:text-zinc-500 font-medium tracking-tight",children:[(0,t.jsx)("span",{className:"bg-slate-100 dark:bg-white/5 px-2 py-0.5 rounded text-[10px] uppercase tracking-wider text-slate-500 dark:text-zinc-400",children:e.category}),(0,t.jsxs)("div",{className:"flex items-center gap-1",children:[(0,t.jsx)(m.Clock,{className:"w-3 h-3"}),(0,t.jsx)("span",{children:e.postedAt})]})]})]}),(0,t.jsx)(g.ChevronRight,{className:"w-4 h-4 text-slate-300 dark:text-zinc-700 group-hover:text-primary group-hover:translate-x-0.5 transition-all"})]},e.id))})]})}function v({categories:e}){let r=(0,f.useTranslation)();return e&&0!==e.length?(0,t.jsxs)("section",{className:"mt-12 px-6",children:[(0,t.jsx)("h3",{className:"text-[11px] uppercase tracking-[0.15em] font-bold text-gray-400 dark:text-gray-600 mb-6 font-display",children:r.search.filters.category}),(0,t.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-y-6 gap-x-4",children:e.map(e=>(0,t.jsxs)("div",{className:"border-l border-gray-100 dark:border-gray-800 pl-4 py-1 hover:border-primary transition-colors cursor-pointer group",children:[(0,t.jsx)("p",{className:"text-lg font-medium text-gray-800 dark:text-gray-200 font-display group-hover:text-primary transition-colors",children:e.name}),(0,t.jsxs)("p",{className:"text-[10px] text-gray-400 uppercase tracking-widest font-display",children:[e.count," ",r.search.filters.articles]})]},e.id))})]}):null}function b(){let{recentSearches:e,performSearch:r,clearRecentSearches:n}=d(),s=(0,f.useTranslation)();return 0===e.length?null:(0,t.jsxs)("section",{className:"mt-12 px-6 pb-32",children:[(0,t.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,t.jsx)("h3",{className:"text-[11px] uppercase tracking-[0.15em] font-bold text-gray-400 dark:text-gray-600 font-display",children:s.search.recent}),(0,t.jsx)("button",{onClick:n,className:"text-[10px] font-bold text-primary uppercase tracking-widest font-display hover:text-primary/80 transition-colors",children:s.search.clearAll})]}),(0,t.jsx)("div",{className:"space-y-6",children:e.map((e,n)=>(0,t.jsxs)("div",{className:"flex items-start justify-between gap-4 group cursor-pointer",onClick:()=>r(e),children:[(0,t.jsx)("div",{className:"flex-1",children:(0,t.jsx)("h4",{className:"text-[15px] font-medium leading-tight text-gray-800 dark:text-gray-200 group-hover:text-primary transition-colors font-display",children:e})}),(0,t.jsx)(a.X,{className:"text-gray-300 dark:text-gray-700 mt-0.5 w-[14px] h-[14px] group-hover:text-primary transition-colors"})]},`${e}-${n}`))})]})}var w=e.i(15343),j=e.i(79278);let k=(0,e.i(98631).default)("sliders-horizontal",[["path",{d:"M10 5H3",key:"1qgfaw"}],["path",{d:"M12 19H3",key:"yhmn1j"}],["path",{d:"M14 3v4",key:"1sua03"}],["path",{d:"M16 17v4",key:"1q0r14"}],["path",{d:"M21 12h-9",key:"1o4lsq"}],["path",{d:"M21 19h-5",key:"1rlt1p"}],["path",{d:"M21 5h-7",key:"1oszz2"}],["path",{d:"M8 10v4",key:"tgpxqk"}],["path",{d:"M8 12H3",key:"a7s4jb"}]]),S=(0,l.createServerReference)("00cacd3b0d649270ac232d664a57a244e8c4e39fcf",l.callServer,void 0,l.findSourceMapURL,"getSearchCategoriesAction");var N=e.i(31924);function C({categories:e,onClose:r}){let{filters:n,setFilter:s,clearFilters:i}=d(),l=(0,f.useTranslation)(),o=[{id:"relevance",label:l.search.filters.sortOptions.relevance},{id:"newest",label:l.search.filters.sortOptions.newest},{id:"oldest",label:l.search.filters.sortOptions.oldest}];return(0,t.jsxs)("div",{className:"bg-white dark:bg-[#0a0a0a] border-b border-gray-100 dark:border-white/5 pb-6 px-6 animate-in slide-in-from-top-2",children:[(0,t.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,t.jsx)("h3",{className:"font-bold text-sm text-gray-900 dark:text-white",children:l.search.filters.title}),(0,t.jsx)("button",{onClick:r,className:"p-1",children:(0,t.jsx)(a.X,{className:"w-4 h-4 text-gray-500"})})]}),(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h4",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wider mb-3",children:l.search.filters.sortBy}),(0,t.jsx)("div",{className:"flex gap-2 flex-wrap",children:o.map(e=>(0,t.jsx)("button",{onClick:()=>s("sort",e.id),className:(0,N.cn)("px-3 py-1.5 rounded-full text-sm transition-colors border",n.sort!==e.id&&(n.sort||"relevance"!==e.id)?"bg-transparent text-slate-600 border-slate-200 dark:text-slate-400 dark:border-white/10 hover:border-slate-400":"bg-slate-900 text-white border-slate-900 dark:bg-white dark:text-black dark:border-white"),children:e.label},e.id))})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h4",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wider mb-3",children:l.search.filters.category}),(0,t.jsxs)("div",{className:"flex gap-2 flex-wrap",children:[(0,t.jsx)("button",{onClick:()=>s("categoryId",void 0),className:(0,N.cn)("px-3 py-1.5 rounded-full text-sm transition-colors border",n.categoryId?"bg-transparent text-slate-600 border-slate-200 dark:text-slate-400 dark:border-white/10 hover:border-slate-400":"bg-slate-900 text-white border-slate-900 dark:bg-white dark:text-black dark:border-white"),children:l.search.filters.all}),e.map(e=>(0,t.jsxs)("button",{onClick:()=>s("categoryId",e.id===n.categoryId?void 0:e.id),className:(0,N.cn)("px-3 py-1.5 rounded-full text-sm transition-colors border",n.categoryId===e.id?"bg-slate-900 text-white border-slate-900 dark:bg-white dark:text-black dark:border-white":"bg-transparent text-slate-600 border-slate-200 dark:text-slate-400 dark:border-white/10 hover:border-slate-400"),children:[e.name," ",(0,t.jsxs)("span",{className:"opacity-60 text-xs ml-1",children:["(",e.count,")"]})]},e.id))]})]}),(0,t.jsx)("div",{className:"pt-2",children:(0,t.jsx)("button",{onClick:i,className:"text-xs text-red-500 hover:text-red-600 font-medium",children:l.search.filters.reset})})]})]})}function A(){let{results:e,isLoading:r,hasSearched:a,query:n}=d(),s=(0,f.useTranslation)(),[i,l]=(0,u.useState)([]),[o,c]=(0,u.useState)(!1);return(0,u.useEffect)(()=>{S().then(l)},[]),(0,t.jsx)("div",{className:"relative flex min-h-screen w-full flex-col overflow-x-hidden bg-white dark:bg-[#0a0a0a] w-full md:max-w-2xl lg:max-w-5xl xl:max-w-7xl mx-auto border-x border-slate-200 dark:border-white/5 shadow-2xl animate-in slide-in-from-right-10 duration-300 fade-in",children:(0,t.jsxs)("main",{className:"flex-1 overflow-y-auto hide-scrollbar pb-24",children:[(0,t.jsx)(h,{}),a?(0,t.jsxs)("div",{className:"px-6 pt-4 flex flex-col gap-4",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)("h3",{className:"text-lg font-bold text-slate-900 dark:text-white",children:r?s.search.searching:`${s.search.resultsFor} "${n}"`}),(0,t.jsx)("div",{className:"flex gap-2",children:(0,t.jsx)("button",{onClick:()=>c(!o),className:(0,N.cn)("p-2 rounded-full transition-colors",o?"bg-slate-100 text-slate-900":"text-slate-400 hover:text-slate-900"),children:(0,t.jsx)(k,{className:"w-5 h-5"})})})]}),o&&(0,t.jsx)(C,{categories:i,onClose:()=>c(!1)}),r?(0,t.jsx)("div",{className:"flex justify-center py-20",children:(0,t.jsx)(j.Loader2,{className:"h-8 w-8 animate-spin text-primary"})}):e.length>0?(0,t.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-5",children:e.map(e=>(0,t.jsx)(w.ArticleCard,{article:e},e.id))}):(0,t.jsx)("div",{className:"py-20 text-center text-slate-500",children:s.search.noResults})]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(y,{}),(0,t.jsx)(v,{categories:i}),(0,t.jsx)(b,{})]})]})})}e.s(["default",()=>A],90454)}]);