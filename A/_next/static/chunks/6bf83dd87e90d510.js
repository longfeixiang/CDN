(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,35449,(e,t,a)=>{t.exports=e.r(34516)},30438,e=>{e.v({nav:{home:"HOME",library:"LIBRARY",guide:"GUIDE",profile:"PROFILE"},home:{todaysRead:"Today's Read",mustRead:"MUST READ",selectedForYou:"SELECTED FOR YOU",contentTypes:{all:"All",tutorial:"Tutorial",concept:"Concept",narrative:"Narrative",opinion:"Opinion",news:"News",resource:"Resource",collection:"Collection",pin:"Pin",favorite:"Favorite",answer:"Answer",article:"Article"}},search:{placeholder:"Search topics, articles...",discovery:"Discovery",recent:"RECENT",clearAll:"CLEAR ALL",resultsFor:"Results for",noResults:"No results found.",searching:"Searching...",trending:"Trending Now",filters:{title:"Filters",sortBy:"Sort By",category:"Category",all:"All",reset:"Reset all filters",articles:"Articles",sortOptions:{relevance:"Recommended",newest:"Newest",oldest:"Oldest"}}},library:{title:"Library",subtitle:"Curated Collections",seeAll:"See All",empty:"No collections found.",seedHint:"Run 'pnpm seed' to populate data.",updated:"Updated",books:"Books",syncTitle:"Pull books from OPDS",syncStatus:"Sync Status",syncRunning:"Syncing Library",syncSuccess:"Sync Complete",syncError:"Sync Failed",initializing:"Initializing...",preparing:"Preparing...",foundBooks:"Found {count} books",importing:"Importing: {title}",syncCompleteCount:"Sync complete. Imported {count} new books",noBooksFound:"No books found",search:"Search Collections",searchPlaceholder:"Enter collection name...",createNew:"Create New",editCollection:"Edit Collection",deleteCollection:"Delete Collection",deleteConfirm:"Are you sure you want to delete this collection? Books will not be deleted.",collectionName:"Collection Name",enterName:"Enter collection name",sortBy:"Sort",sortByName:"By Name",sortByDate:"By Date",sortByCustom:"Custom Order",addToCollection:"Add to Collection",removeFromCollection:"Remove from Collection"},profile:{title:"Profile",settings:"Settings",appearance:"Appearance",preferences:"Preferences",language:"Language",theme:"Theme",logOut:"Log Out",readingHistory:"Reading History",chatHistory:"Chat History",view:"VIEW",dataManagement:{title:"Data Management",history:"History",articles:"Articles",chats:"AI Chats",insights:"Insights",library:"Library Data",confirmTitle:"Delete {label}?",confirmDesc:"Are you sure you want to delete all {label}?",deleteWarning:"âš ï¸ Warning: This action will permanently delete all data and cannot be recovered!",deleteError:"Failed to delete data",deleteSuccess:"Successfully deleted {label}",confirmButton:"Confirm Delete",cancelButton:"Cancel",note:"Note: Deleting data is a permanent action. Once you delete a category, all associated content and preferences will be permanently removed from your device.",threads:"threads"},promptEditor:"Prompt Editor",importData:"Import Data",appSettings:"App Settings",help:"Help & Support",items:"items",articlesRead:"Articles read",wordCount:"Word count",contributionGraph:{title:"Reading Contributions",noData:"No reading data found",weekdays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],totalCount:"{{count}} articles"}},settings:{title:"Settings",appearance:"Appearance",preferences:"Preferences",application:"Application",theme:"Theme",typography:"Typography",notifications:"Notifications",privacy:"Privacy & Security",about:"About",licenses:"Licenses",opds:"OPDS Server",opdsSubtitle:"Connect to external catalogs",connect:"Connect",serverUrl:"Server URL",username:"Username",password:"Password",language:"Language",loadImages:"Load Images",loadImagesSub:"Toggle image loading to save data",aiModel:"AI Model",selectModel:"Select Gemini Model",guideViewMode:{title:"Guide View Mode",swipe:"Swipe Card",feed:"Vertical Feed"}},auth:{welcome:"Welcome back",enter:"Enter",identityAccess:"Identity Access",passphrasePlaceholder:"Enter your passphrase...",loginFailed:"Login failed"},guide:{title:"Guide",progress:"Progress","3minRead":"3 min read",insight:"Insight",noInsights:"No insights found yet.",deleteConfirm:"Delete this insight?",filterAll:"All",filterThinking:"Thinking",filterInsight:"Insight",filterFavorites:"Favorites"},article:{notFound:"Article not found.",goHome:"Go Home",editTags:"Edit Tags",addTag:"Add a new tag...",editTagsDescription:"Edit article tags",summary:"SUMMARY",thinking:"THINKING",aiInsight:{title:"AI Insight Generation",label:"What are you looking for? (Optional)",placeholder:"E.g., Summarize key points, List all tools mentioned...",generating:"Generating...",generate:"Generate"},share:"Share Article",delete:"Delete Article",deleteConfirm:"Are you sure you want to permanently delete this article? This action cannot be undone.",deleteAiChat:"Delete AI Chat",deleteAiChatConfirm:"Are you sure you want to delete the AI chat history for this article?"},common:{save:"Save Changes",cancel:"Cancel",confirm:"Confirm",loading:"Loading..."},promptEditor:{title:"Gemini Prompt",saveChanges:"Save Changes",close:"Close",placeholder:"Start typing your prompt here... use Markdown for structure.",saveSuccess:"Prompt saved successfully",saveError:"Failed to save prompt",restoreDefaults:"Restore Defaults",unsavedChangesTitle:"Unsaved Changes",unsavedChangesDescription:"You have unsaved changes. If you leave, your changes will be lost.",leave:"Leave",stay:"Stay"}})},89778,e=>{e.v({nav:{home:"é¦–é¡µ",library:"ä¹¦é¦†",guide:"æ´žå¯Ÿ",profile:"æˆ‘çš„"},home:{todaysRead:"ä»Šæ—¥é˜…è¯»",mustRead:"å¿…è¯»æŽ¨è",selectedForYou:"ç²¾é€‰å†…å®¹",contentTypes:{all:"å…¨éƒ¨",tutorial:"å®žæ“æ•™ç¨‹",concept:"æ·±åº¦è§£æž",narrative:"å™äº‹ç»åŽ†",opinion:"è§‚ç‚¹è¯„è®º",news:"èµ„è®¯å¿«æŠ¥",resource:"ç´ æèµ„æº",collection:"æ¸…å•åˆé›†",pin:"æƒ³æ³•",favorite:"æ”¶è—",answer:"ç­”æ¡ˆ",article:"æ–‡ç« "}},search:{placeholder:"æœç´¢è¯é¢˜ã€æ–‡ç« ...",discovery:"å‘çŽ°",recent:"æœ€è¿‘æœç´¢",clearAll:"æ¸…é™¤å…¨éƒ¨",resultsFor:"æœç´¢ç»“æžœï¼š",noResults:"æœªæ‰¾åˆ°ç›¸å…³ç»“æžœ",searching:"æœç´¢ä¸­...",trending:"çƒ­é—¨è¯é¢˜",filters:{title:"ç­›é€‰",sortBy:"æŽ’åºæ–¹å¼",category:"åˆ†ç±»",all:"å…¨éƒ¨",reset:"é‡ç½®æ‰€æœ‰ç­›é€‰",articles:"ç¯‡æ–‡ç« ",sortOptions:{relevance:"æŽ¨è",newest:"æœ€æ–°å‘å¸ƒ",oldest:"æœ€æ—©å‘å¸ƒ"}}},library:{title:"è—ä¹¦é¦†",subtitle:"ç²¾é€‰ä¹¦å•",seeAll:"æŸ¥çœ‹å…¨éƒ¨",empty:"æš‚æ— ä¹¦å•",seedHint:"è¯·è¿è¡Œ 'pnpm seed' ç”Ÿæˆæ•°æ®",updated:"æ›´æ–°äºŽ",books:"æœ¬ä¹¦",syncTitle:"ä»Ž OPDS æ‹‰å–å›¾ä¹¦",syncStatus:"åŒæ­¥çŠ¶æ€",syncRunning:"æ­£åœ¨åŒæ­¥è—ä¹¦é¦†",syncSuccess:"åŒæ­¥å®Œæˆ",syncError:"åŒæ­¥å¤±è´¥",initializing:"æ­£åœ¨åˆå§‹åŒ–...",preparing:"å‡†å¤‡ä¸­...",foundBooks:"å·²æ‰¾åˆ° {count} æœ¬ä¹¦",importing:"æ­£åœ¨å¯¼å…¥: {title}",syncCompleteCount:"åŒæ­¥å®Œæˆï¼Œå·²å¯¼å…¥ {count} æœ¬æ–°ä¹¦",noBooksFound:"æœªæ‰¾åˆ°ä»»ä½•ä¹¦ç±",search:"æœç´¢ä¹¦å•",searchPlaceholder:"è¾“å…¥ä¹¦å•åç§°...",createNew:"æ–°å»ºä¹¦å•",editCollection:"ç¼–è¾‘ä¹¦å•",deleteCollection:"åˆ é™¤ä¹¦å•",deleteConfirm:"ç¡®å®šè¦åˆ é™¤æ­¤ä¹¦å•å—ï¼Ÿä¹¦å•ä¸­çš„ä¹¦ç±ä¸ä¼šè¢«åˆ é™¤ã€‚",collectionName:"ä¹¦å•åç§°",enterName:"è¯·è¾“å…¥ä¹¦å•åç§°",sortBy:"æŽ’åº",sortByName:"æŒ‰åç§°",sortByDate:"æŒ‰åˆ›å»ºæ—¶é—´",sortByCustom:"è‡ªå®šä¹‰é¡ºåº",addToCollection:"æ·»åŠ åˆ°ä¹¦å•",removeFromCollection:"ä»Žä¹¦å•ç§»é™¤"},profile:{title:"ä¸ªäººä¸­å¿ƒ",settings:"è®¾ç½®",appearance:"å¤–è§‚",preferences:"åå¥½",language:"è¯­è¨€",theme:"ä¸»é¢˜",logOut:"é€€å‡ºç™»å½•",readingHistory:"é˜…è¯»åŽ†å²",chatHistory:"å¯¹è¯åŽ†å²",view:"æŸ¥çœ‹",dataManagement:{title:"æ•°æ®ç®¡ç†",history:"åŽ†å²è®°å½•",articles:"æ–‡ç« æ•°æ®",chats:"AI å¯¹è¯",insights:"æ´žå¯Ÿæ•°æ®",library:"è—ä¹¦é¦†æ•°æ®",confirmTitle:"åˆ é™¤ {label}ï¼Ÿ",confirmDesc:"æ‚¨ç¡®å®šè¦åˆ é™¤æ‰€æœ‰ {label} å—ï¼Ÿ",deleteWarning:"âš ï¸ è­¦å‘Šï¼šæ­¤æ“ä½œå°†æ°¸ä¹…åˆ é™¤æ‰€æœ‰æ•°æ®ï¼Œæ— æ³•æ¢å¤ï¼",deleteError:"åˆ é™¤æ•°æ®å¤±è´¥",deleteSuccess:"å·²æˆåŠŸåˆ é™¤ {label}",confirmButton:"ç¡®è®¤åˆ é™¤",cancelButton:"å–æ¶ˆ",note:"æ³¨æ„ï¼šåˆ é™¤æ•°æ®æ˜¯æ°¸ä¹…æ€§æ“ä½œã€‚ä¸€æ—¦åˆ é™¤æŸä¸ªç±»åˆ«ï¼Œæ‰€æœ‰ç›¸å…³å†…å®¹å’Œè®¾ç½®å°†ä»Žæ‚¨çš„è®¾å¤‡ä¸­æ°¸ä¹…ç§»é™¤ã€‚",threads:"æ¡å¯¹è¯"},promptEditor:"æç¤ºè¯ç¼–è¾‘å™¨",importData:"å¯¼å…¥æ•°æ®",appSettings:"åº”ç”¨è®¾ç½®",help:"å¸®åŠ©ä¸Žæ”¯æŒ",items:"é¡¹",articlesRead:"å·²è¯»æ–‡ç« ",wordCount:"é˜…è¯»å­—æ•°",contributionGraph:{title:"é˜…è¯»è´¡çŒ®",noData:"æš‚æ— é˜…è¯»æ•°æ®",weekdays:["æ—¥","ä¸€","äºŒ","ä¸‰","å››","äº”","å…­"],months:["ä¸€æœˆ","äºŒæœˆ","ä¸‰æœˆ","å››æœˆ","äº”æœˆ","å…­æœˆ","ä¸ƒæœˆ","å…«æœˆ","ä¹æœˆ","åæœˆ","åä¸€æœˆ","åäºŒæœˆ"],totalCount:"{{count}} ç¯‡æ–‡ç« "}},settings:{title:"è®¾ç½®",appearance:"å¤–è§‚",preferences:"åå¥½è®¾ç½®",application:"åº”ç”¨ç¨‹åº",theme:"ä¸»é¢˜",typography:"æŽ’ç‰ˆ",notifications:"é€šçŸ¥",privacy:"éšç§ä¸Žå®‰å…¨",about:"å…³äºŽ",licenses:"å¼€æºè®¸å¯",opds:"OPDS æœåŠ¡å™¨",opdsSubtitle:"è¿žæŽ¥å¤–éƒ¨ç›®å½•",connect:"è¿žæŽ¥",serverUrl:"æœåŠ¡å™¨åœ°å€",username:"ç”¨æˆ·å",password:"å¯†ç ",language:"è¯­è¨€",loadImages:"åŠ è½½å›¾ç‰‡",loadImagesSub:"å¼€å¯å›¾ç‰‡åŠ è½½ä»¥èŠ‚çœæµé‡",aiModel:"AI æ¨¡åž‹",selectModel:"é€‰æ‹©ç”Ÿæˆæ¨¡åž‹",guideViewMode:{title:"é˜…è¯»è¯•å›¾æ¨¡å¼",swipe:"å¡ç‰‡ç¿»é˜…",feed:"åž‚ç›´ä¿¡æ¯æµ"}},auth:{welcome:"æ¬¢è¿Žå›žæ¥",enter:"è¿›å…¥",identityAccess:"èº«ä»½éªŒè¯",passphrasePlaceholder:"è¯·è¾“å…¥æ‚¨çš„å£ä»¤çŸ­è¯­...",loginFailed:"ç™»å½•å¤±è´¥"},guide:{title:"æ·±åº¦æ´žå¯Ÿ",progress:"è¿›åº¦","3minRead":"3 åˆ†é’Ÿé˜…è¯»",insight:"æ´žå¯Ÿ",noInsights:"æš‚æ— æ´žå¯Ÿå†…å®¹ã€‚",deleteConfirm:"ç¡®å®šåˆ é™¤æ­¤æ´žå¯Ÿï¼Ÿ",filterAll:"å…¨éƒ¨",filterThinking:"æ€è€ƒ",filterInsight:"æ´žå¯Ÿ",filterFavorites:"æ”¶è—"},article:{notFound:"æœªæ‰¾åˆ°æ–‡ç« ã€‚",goHome:"è¿”å›žé¦–é¡µ",editTags:"ç¼–è¾‘æ ‡ç­¾",addTag:"æ·»åŠ æ–°æ ‡ç­¾...",editTagsDescription:"ç¼–è¾‘æ–‡ç« æ ‡ç­¾",summary:"æ‘˜è¦",thinking:"æ€è€ƒ",aiInsight:{title:"AI æ´žå¯Ÿç”Ÿæˆ",label:"æ‚¨æƒ³äº†è§£ä»€ä¹ˆï¼Ÿï¼ˆå¯é€‰ï¼‰",placeholder:"ä¾‹å¦‚ï¼šæ€»ç»“å…³é”®ç‚¹ï¼Œåˆ—å‡ºæ‰€æœ‰æåŠçš„å·¥å…·...",generating:"æ­£åœ¨ç”Ÿæˆ...",generate:"ç”Ÿæˆ"},share:"åˆ†äº«æ–‡ç« ",delete:"åˆ é™¤æ–‡ç« ",deleteConfirm:"æ‚¨ç¡®å®šè¦æ°¸ä¹…åˆ é™¤è¿™ç¯‡æ–‡ç« å—ï¼Ÿæ­¤æ“ä½œæ— æ³•æ’¤é”€ã€‚",deleteAiChat:"åˆ é™¤ AI å¯¹è¯",deleteAiChatConfirm:"æ‚¨ç¡®å®šè¦åˆ é™¤æ­¤æ–‡ç« çš„ AI å¯¹è¯åŽ†å²å—ï¼Ÿ"},common:{save:"ä¿å­˜æ›´æ”¹",cancel:"å–æ¶ˆ",confirm:"ç¡®è®¤",loading:"åŠ è½½ä¸­..."},promptEditor:{title:"Gemini æç¤ºè¯",saveChanges:"ä¿å­˜æ›´æ”¹",close:"å…³é—­",placeholder:"åœ¨æ­¤è¾“å…¥æ‚¨çš„æç¤ºè¯... æ”¯æŒ Markdown ç»“æž„ã€‚",saveSuccess:"æç¤ºè¯å·²æˆåŠŸä¿å­˜",saveError:"ä¿å­˜æç¤ºè¯å¤±è´¥",restoreDefaults:"æ¢å¤é»˜è®¤",unsavedChangesTitle:"æœªä¿å­˜çš„æ›´æ”¹",unsavedChangesDescription:"æ‚¨æœ‰æœªä¿å­˜çš„æ›´æ”¹ã€‚å¦‚æžœæ‚¨ç¦»å¼€ï¼Œè¿™äº›æ›´æ”¹å°†ä¸¢å¤±ã€‚",leave:"ç¦»å¼€",stay:"ç•™ä¸‹"}})},71111,(e,t,a)=>{"use strict";Object.defineProperty(a,"__esModule",{value:!0});var r={callServer:function(){return o.callServer},createServerReference:function(){return l.createServerReference},findSourceMapURL:function(){return i.findSourceMapURL}};for(var n in r)Object.defineProperty(a,n,{enumerable:!0,get:r[n]});let o=e.r(61547),i=e.r(55313),l=e.r(81553)},20128,e=>{"use strict";var t=e.i(66634);let a=e=>{let t,a=new Set,r=(e,r)=>{let n="function"==typeof e?e(t):e;if(!Object.is(n,t)){let e=t;t=(null!=r?r:"object"!=typeof n||null===n)?n:Object.assign({},t,n),a.forEach(a=>a(t,e))}},n=()=>t,o={setState:r,getState:n,getInitialState:()=>i,subscribe:e=>(a.add(e),()=>a.delete(e))},i=t=e(r,n,o);return o},r=e=>{let r=e?a(e):a,n=e=>(function(e,a=e=>e){let r=t.default.useSyncExternalStore(e.subscribe,t.default.useCallback(()=>a(e.getState()),[e,a]),t.default.useCallback(()=>a(e.getInitialState()),[e,a]));return t.default.useDebugValue(r),r})(r,e);return Object.assign(n,r),n},n=e=>e?r(e):r;e.s(["create",()=>n],20128)},6891,69087,98183,e=>{"use strict";var t=e.i(20128);let a=e=>t=>{try{let r=e(t);if(r instanceof Promise)return r;return{then:e=>a(e)(r),catch(e){return this}}}catch(e){return{then(e){return this},catch:t=>a(t)(e)}}},r=(e,t)=>(r,n,o)=>{let i,l={storage:function(e,t){let a;try{a=e()}catch(e){return}return{getItem:e=>{var t;let r=e=>null===e?null:JSON.parse(e,void 0),n=null!=(t=a.getItem(e))?t:null;return n instanceof Promise?n.then(r):r(n)},setItem:(e,t)=>a.setItem(e,JSON.stringify(t,void 0)),removeItem:e=>a.removeItem(e)}}(()=>localStorage),partialize:e=>e,version:0,merge:(e,t)=>({...t,...e}),...t},s=!1,c=0,d=new Set,u=new Set,p=l.storage;if(!p)return e((...e)=>{console.warn(`[zustand persist middleware] Unable to update item '${l.name}', the given storage is currently unavailable.`),r(...e)},n,o);let h=()=>{let e=l.partialize({...n()});return p.setItem(l.name,{state:e,version:l.version})},m=o.setState;o.setState=(e,t)=>(m(e,t),h());let g=e((...e)=>(r(...e),h()),n,o);o.getInitialState=()=>g;let f=()=>{var e,t;if(!p)return;let o=++c;s=!1,d.forEach(e=>{var t;return e(null!=(t=n())?t:g)});let m=(null==(t=l.onRehydrateStorage)?void 0:t.call(l,null!=(e=n())?e:g))||void 0;return a(p.getItem.bind(p))(l.name).then(e=>{if(e)if("number"!=typeof e.version||e.version===l.version)return[!1,e.state];else{if(l.migrate){let t=l.migrate(e.state,e.version);return t instanceof Promise?t.then(e=>[!0,e]):[!0,t]}console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}return[!1,void 0]}).then(e=>{var t;if(o!==c)return;let[a,s]=e;if(r(i=l.merge(s,null!=(t=n())?t:g),!0),a)return h()}).then(()=>{o===c&&(null==m||m(i,void 0),i=n(),s=!0,u.forEach(e=>e(i)))}).catch(e=>{o===c&&(null==m||m(void 0,e))})};return o.persist={setOptions:e=>{l={...l,...e},e.storage&&(p=e.storage)},clearStorage:()=>{null==p||p.removeItem(l.name)},getOptions:()=>l,rehydrate:()=>f(),hasHydrated:()=>s,onHydrate:e=>(d.add(e),()=>{d.delete(e)}),onFinishHydration:e=>(u.add(e),()=>{u.delete(e)})},l.skipHydration||f(),i||g};e.s(["persist",()=>r],69087);let n=(0,t.create)()(r(e=>({lang:"en",setLang:t=>{e({lang:t}),document.cookie=`NEXT_LOCALE=${t}; path=/; max-age=31536000; SameSite=Lax`}}),{name:"lang-storage"}));e.s(["useLangStore",0,n],98183);var o=e.i(30438),i=e.i(89778);let l={en:o.default,zh:i.default};function s(){let{lang:e}=n();return l[e]}e.s(["useTranslation",()=>s],6891)},23714,e=>{"use strict";let t=(0,e.i(98631).default)("chevron-left",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);e.s(["ChevronLeft",()=>t],23714)},54267,e=>{"use strict";let t=(0,e.i(98631).default)("check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);e.s(["Check",()=>t],54267)},24256,e=>{"use strict";var t=e.i(85069),a=e.i(23714),r=e.i(98631);let n=(0,r.default)("heading-1",[["path",{d:"M4 12h8",key:"17cfdx"}],["path",{d:"M4 18V6",key:"1rz3zl"}],["path",{d:"M12 18V6",key:"zqpxq5"}],["path",{d:"m17 12 3-2v8",key:"1hhhft"}]]),o=(0,r.default)("bold",[["path",{d:"M6 12h9a4 4 0 0 1 0 8H7a1 1 0 0 1-1-1V5a1 1 0 0 1 1-1h7a4 4 0 0 1 0 8",key:"mg9rjx"}]]),i=(0,r.default)("italic",[["line",{x1:"19",x2:"10",y1:"4",y2:"4",key:"15jd3p"}],["line",{x1:"14",x2:"5",y1:"20",y2:"20",key:"bu0au3"}],["line",{x1:"15",x2:"9",y1:"4",y2:"20",key:"uljnxc"}]]),l=(0,r.default)("list",[["path",{d:"M3 5h.01",key:"18ugdj"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 19h.01",key:"noohij"}],["path",{d:"M8 5h13",key:"1pao27"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 19h13",key:"m83p4d"}]]),s=(0,r.default)("code",[["path",{d:"m16 18 6-6-6-6",key:"eg8j8"}],["path",{d:"m8 6-6 6 6 6",key:"ppft3o"}]]),c=(0,r.default)("link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]),d=(0,r.default)("quote",[["path",{d:"M16 3a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2 1 1 0 0 1 1 1v1a2 2 0 0 1-2 2 1 1 0 0 0-1 1v2a1 1 0 0 0 1 1 6 6 0 0 0 6-6V5a2 2 0 0 0-2-2z",key:"rib7q0"}],["path",{d:"M5 3a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2 1 1 0 0 1 1 1v1a2 2 0 0 1-2 2 1 1 0 0 0-1 1v2a1 1 0 0 0 1 1 6 6 0 0 0 6-6V5a2 2 0 0 0-2-2z",key:"1ymkrd"}]]),u=(0,r.default)("undo",[["path",{d:"M3 7v6h6",key:"1v2h90"}],["path",{d:"M21 17a9 9 0 0 0-9-9 9 9 0 0 0-6 2.3L3 13",key:"1r6uu6"}]]),p=(0,r.default)("redo",[["path",{d:"M21 7v6h-6",key:"3ptur4"}],["path",{d:"M3 17a9 9 0 0 1 9-9 9 9 0 0 1 6 2.3l3 2.7",key:"1kgawr"}]]);var h=e.i(35449),m=e.i(66634),g=e.i(6891);let f=`# Role

ä½ æ˜¯ä¸€åé¡¶å°–çš„çŸ¥è¯†ç®¡ç†ä¸“å®¶å’Œ Prompt ä¼˜åŒ–é¡¾é—®ã€‚ä½ æ“…é•¿å°†ç¢Žç‰‡åŒ–ä¿¡æ¯è½¬åŒ–ä¸ºç»“æž„åŒ–ã€å…·å¤‡æ·±åº¦æ‰¹åˆ¤æ€§çš„å†…å®¹ï¼Œå¹¶ä»¥æ ‡å‡†çš„ JSON æ ¼å¼è¾“å‡ºï¼Œä»¥ä¾¿äºŽç¨‹åºè§£æžå’Œè‡ªåŠ¨åŒ–é›†æˆã€‚

# Workflow
## Step 0: æ„å›¾å¯¹é½ (Prime Directive)
**CRITICAL**: æ£€æŸ¥æ˜¯å¦å­˜åœ¨ [UserExpectation]ã€‚
- **è‹¥æ—  UserExpectation**: æŒ‰é»˜è®¤é€»è¾‘å¤„ç†å…¨æ–‡ã€‚
- **è‹¥æœ‰ UserExpectation**: 
    1. ä½ çš„è§’è‰²è½¬å˜ä¸ºâ€œçŒŽäººâ€ï¼Œ[UserExpectation] æ˜¯ä½ çš„çŒŽç‰©ã€‚
    2. **å¿½ç•¥**ä¸ŽçŒŽç‰©æ— å…³çš„ä¿®é¥°æ€§æ–‡å­—ã€èƒŒæ™¯æ•…äº‹æˆ–å®¢å¥—è¯ã€‚
    3. åœ¨ Step 1 åˆ†ç±»æ—¶ï¼Œä¼˜å…ˆè€ƒè™‘èƒ½æ»¡è¶³æœŸæœ›çš„ç±»åˆ«ï¼ˆä¾‹å¦‚ï¼šåŽŸæ–‡æ˜¯é•¿ç¯‡æ•…äº‹ï¼Œä½†ç”¨æˆ·æƒ³çœ‹ä¹¦å•ï¼Œåˆ™å¼ºåˆ¶åˆ†ç±»ä¸º Collectionï¼‰ã€‚
    4. åœ¨ Step 2 æ’°å†™ Summary æ—¶ï¼Œå¿…é¡»ç›´æŽ¥å›žç­”ï¼šè¿™ç¯‡æ–‡ç« å¦‚ä½•æ»¡è¶³äº†ç”¨æˆ·çš„æœŸæœ›ï¼Ÿ
       
## Step 1: æ ¸å¿ƒåˆ†ç±»åˆ¤åˆ«
é˜…è¯» [Title] å’Œ [Content]ï¼Œä»Žä»¥ä¸‹ 7 ç±»ä¸­é€‰æ‹©æœ€å‡†ç¡®çš„ä¸€é¡¹ï¼ˆå¿…é€‰å…¶ä¸€ï¼‰ï¼š
1. **Tutorial (å®žæ“æ•™ç¨‹)**: æ•™ä½ æ€Žä¹ˆåšï¼Œè§£å†³å…·ä½“æŠ€æœ¯/æ“ä½œé—®é¢˜ã€‚
2. **Concept (æ·±åº¦è§£æž)**: è§£é‡ŠåŽŸç†ã€å®šä¹‰ã€æ¨¡åž‹æˆ–åº•å±‚é€»è¾‘ã€‚
3. **Narrative (å™äº‹ç»åŽ†)**: è®°å½•çœŸå®žç»åŽ†ã€å¿ƒè·¯åŽ†ç¨‹æˆ–å¤ç›˜ã€‚
4. **Opinion (è§‚ç‚¹è¯„è®º)**: å¯¹ç‰¹å®šäº‹ä»¶/ä½œå“çš„ä¸»è§‚è¯„ä»·ã€‚
5. **News (èµ„è®¯å¿«æŠ¥)**: å…³äºŽæ–°äº‹ç‰©ã€æ–°å˜åŒ–çš„äº‹å®žé™ˆè¿°ã€‚
6. **Resource (ç´ æèµ„æº)**: ä¸‹è½½å³ç”¨çš„åŽŸææ–™ï¼ˆä»£ç ã€æ¨¡æ¿ç­‰ï¼‰ã€‚
7. **Collection (æ¸…å•åˆé›†)**: ç»è¿‡ç­›é€‰çš„æŒ‡å‘æ€§åˆ—è¡¨

## Step 2: å†…å®¹æå–é€»è¾‘ (Internal Processing)
æ ¹æ®åˆ†ç±»è§„åˆ™ï¼Œå‡†å¤‡ä»¥ä¸‹å››ä¸ªæ¨¡å—çš„å†…å®¹ï¼š

### 1. Metadata (JSON Object)
- **title**: åŸºäºŽå†…å®¹ä¼˜åŒ–åŽçš„é«˜æ¦‚æ‹¬æ€§æ ‡é¢˜ã€‚
- **date**: å½“å‰æ—¥æœŸ
- **category**: é€‰å®šçš„ 7 å¤§åˆ†ç±»ä¹‹ä¸€ã€‚
- **status**: å›ºå®šä¸º "archived"ã€‚
- **tags**: åŒ…å« [æ ¸å¿ƒè¯é¢˜, åˆ†ç±»æ ‡ç­¾, *ç”¨æˆ·æœŸæœ›å…³é”®è¯*]ï¼Œæ•°ç»„æ ¼å¼ã€‚ä¸¥æ ¼éµå®ˆä»¥ä¸‹è§„åˆ™ï¼š 
  1. **æ•°é‡é™åˆ¶**: æœ€å¤š 5 ä¸ªã€‚ 
  2. **éµå¾ªâ€œä¸­è‹±åŒè½¨åˆ¶â€**: 
     - **æŠ€æœ¯/å“ç‰Œé¡¹**: å¿…é¡»è‹±æ–‡å°å†™ï¼ˆå¦‚ \`python\`, \`macos\`, \`ai\`ï¼‰ã€‚
     - **æŠ½è±¡/é¢†åŸŸé¡¹**: ä½¿ç”¨ä¸­æ–‡ï¼ˆå¦‚ \`è®¤çŸ¥æ¨¡åž‹\`, \`å†™ä½œ\`ï¼‰ã€‚
     - **å”¯ä¸€æ€§**: è‹¥æœ‰é€šç”¨ç¼©å†™ä¼˜å…ˆä½¿ç”¨ï¼ˆç”¨ \`vps\` è€Œéž \`è™šæ‹Ÿä¸“ç”¨æœåŠ¡å™¨\`ï¼‰ã€‚
     - **æ ¼å¼**: ç»Ÿä¸€ä½¿ç”¨ kebab-caseï¼ˆå¦‚ \`self-hosting\`ï¼‰ã€‚
  3. **åŽ»é‡é™å™ª**: ä¸¥ç¦åŒæ—¶å‡ºçŽ°åŒä¹‰è¯ï¼ˆå¦‚æœ‰äº† "ai" å°±ä¸è¦ "artificial-intelligence"ï¼‰ã€‚ 
  4. **å±‚çº§åŒ–**: ä¼˜å…ˆä½¿ç”¨å®½æ³›ç±»åˆ« + å…·ä½“æŠ€æœ¯ï¼ˆå¦‚ ["programming", "python-flet"]ï¼‰ã€‚
- **summary**:
  - è‹¥æœ‰ UserExpectationï¼šç›´æŽ¥åŸºäºŽæœŸæœ›æ’°å†™æ‘˜è¦ã€‚ä¾‹å¦‚ï¼š"æœ¬æ–‡é’ˆå¯¹ç”¨æˆ·æƒ³äº†è§£çš„[æœŸæœ›ç‚¹]ï¼Œæä¾›äº†Xã€Yã€Zä¸‰ä¸ªå…³é”®ä¿¡æ¯..."
  - è‹¥æ—  UserExpectationï¼šæ ¹æ®åˆ†ç±»é‡‡ç”¨ä¸åŒå†™æ³•ï¼ˆTutorial: è§£å†³ç—›ç‚¹åŠè·¯å¾„; Concept: ç†è®ºå®šä¹‰åŠé€»è¾‘; Narrative: è½¬æŠ˜ç‚¹ä¸Žæ„Ÿæ‚Ÿ; Opinion: ç«‹åœºåŠè®ºæ®; News: æ ¸å¿ƒå˜åŒ–åŠå½±å“; Resource: ä»·å€¼ä¸Žåœºæ™¯; Collection: ç­›é€‰æ ‡å‡†åŠ Top 3ï¼‰ã€‚

### 2. å¯¼è¯»ã€‚æ ¹æ® Step 1 çš„åˆ†ç±»ï¼Œç”Ÿæˆå¯¹åº”å†…å®¹ï¼š
**æ³¨æ„**ï¼šä»¥ä¸‹å†…å®¹çš„æå–å¿…é¡»å›´ç»• [UserExpectation] å±•å¼€ã€‚å¦‚æžœåŽŸæ–‡å¤§éƒ¨åˆ†å†…å®¹ä¸ŽæœŸæœ›æ— å…³ï¼Œè¯·å¤§èƒ†èˆå¼ƒï¼Œåªä¿ç•™â€œå¹²è´§â€ã€‚
**æ³¨æ„**ï¼šæ­¤éƒ¨åˆ†ä¸ºé•¿å­—ç¬¦ä¸²ã€‚å¿…é¡»åœ¨å†…éƒ¨ä½¿ç”¨ä»¥ä¸‹æ ¼å¼å¢žå¼ºå¯è¯»æ€§ï¼š
- **è§†è§‰é”šç‚¹**: ä½¿ç”¨ Emojiï¼ˆðŸ“Œ, ðŸ› ï¸, ðŸ’¡, ðŸ“ï¼‰ä½œä¸ºå„å°èŠ‚æ ‡é¢˜å‰ç¼€ã€‚
- **æ¢è¡Œé€»è¾‘**: é€»è¾‘å—ä¹‹é—´å¿…é¡»ä½¿ç”¨ \`\\n\\n\`ï¼›åˆ—è¡¨é¡¹ä¹‹é—´ä½¿ç”¨ \`\\n\`ã€‚

### è‹¥ä¸º Tutorial:
**è§£å†³ç—›ç‚¹**ï¼š{è¿™ç¯‡æ•™ç¨‹èƒ½å¸®ä½ æžå®šä»€ä¹ˆå…·ä½“éº»çƒ¦ï¼Ÿ}
**éš¾åº¦/é—¨æ§›**ï¼š{ç®€å•/ä¸­ç­‰/å›°éš¾}
**å…³é”®æ­¥éª¤**ï¼š
 1. [ ] ...
 2. [ ] ...

### è‹¥ä¸º Concept:
**æ ¸å¿ƒæ¦‚å¿µ**ï¼š{æ–‡ç« è§£é‡Šäº†ä»€ä¹ˆåŽŸç†æˆ–æ¨¡åž‹ï¼Ÿ}
**åº•å±‚é€»è¾‘**ï¼š{ä¸ºä»€ä¹ˆè¿™ä¸ªç†è®ºæˆç«‹ï¼Ÿ}
**é‡‘å¥/æ´žè§**ï¼š{æ–‡ä¸­è®©äººé†é†çŒé¡¶çš„ä¸€å¥è¯}

### è‹¥ä¸º Narrative:
**å™è¿°è€…**ï¼š{è°çš„ç»åŽ†ï¼Ÿå¦‚ï¼šç‹¬ç«‹å¼€å‘è€…/è€ƒç ”å­¦ç”Ÿ}
**æ ¸å¿ƒäº‹ä»¶**ï¼š{ç»åŽ†äº†ä»€ä¹ˆï¼Ÿå¦‚ï¼šè¾žèŒåˆ›ä¸š/å‡è‚¥æˆåŠŸ}
**æƒ…æ„Ÿ/å¤ç›˜**ï¼š{æœ€ç»ˆçš„æ„Ÿæ‚Ÿæˆ–æ•™è®­æ˜¯ä»€ä¹ˆï¼Ÿ}

### è‹¥ä¸º Opinion:
**è¯„æµ‹å¯¹è±¡**ï¼š{è¯„ä»·äº†ä»€ä¹ˆäº‹ä»¶/ä½œå“ï¼Ÿ}
**æ ¸å¿ƒç«‹åœº**ï¼š{æ”¯æŒ/åå¯¹/ä¸­ç«‹ï¼Ÿ}
**å…³é”®è®ºæ®**ï¼š{ä½œè€…å‡­ä»€ä¹ˆè¿™ä¹ˆè¯´ï¼Ÿ}

### è‹¥ä¸º News:
**æ–°é—»ç„¦ç‚¹**ï¼š{å‘ç”Ÿäº†ä»€ä¹ˆï¼Ÿ}
**æ ¸å¿ƒå˜åŒ–**ï¼š{æ›´æ–°äº†ä»€ä¹ˆåŠŸèƒ½/å‘ç”Ÿäº†ä»€ä¹ˆå˜åŠ¨ï¼Ÿ}
**å½±å“è¯„ä¼°**ï¼š{å¯¹è¡Œä¸šæˆ–ç”¨æˆ·æœ‰ä»€ä¹ˆå½±å“ï¼Ÿ}

### è‹¥ä¸º Resource:
**èµ„äº§ç±»åž‹**ï¼š{ä»£ç /æ¨¡æ¿/å…¬å¼/Prompt}
**ä½¿ç”¨åœºæ™¯**ï¼š{ä»€ä¹ˆæ—¶å€™ç›´æŽ¥æ‹¿æ¥ç”¨ï¼Ÿ}
**è´¨é‡è¯„ä¼°**ï¼š{æŽ¨èæŒ‡æ•° 1-5 æ˜Ÿ}

### è‹¥ä¸º Collection: 
**æ¸…å•ä¸»é¢˜**ï¼š{æŽ¨èäº†ä»€ä¹ˆç±»åˆ«çš„èµ„æºï¼Ÿ} 
**ç­›é€‰æ ‡å‡†**ï¼š{ä½œè€…æ˜¯æŒ‰ä»€ä¹ˆæ ‡å‡†æŽ¨èçš„ï¼Ÿ} 
**ç²¾é€‰åˆ—è¡¨**ï¼š 
	*å¦‚æžœæŒ‡å®šäº† [UserExpectation]ï¼Œè¯·åˆ—å‡ºæ‰€æœ‰ç¬¦åˆæœŸæœ›çš„é¡¹ç›®ï¼›è‹¥æ— æŒ‡å®šï¼Œåˆ™é»˜è®¤åˆ—å‡ºæœ€å…·ä»£è¡¨æ€§çš„ 3-5 é¡¹ã€‚
	* - {é¡¹ç›®1} - {é¡¹ç›®2}

### 3. äºŒé˜¶æ€è€ƒã€‚é’ˆå¯¹ä¸åŒåˆ†ç±»è¿›è¡Œæ·±åº¦æ‰¹åˆ¤æ€§åˆ†æžï¼š
*CRITICAL RULE*: å¦‚æžœåŽŸæ–‡å†…å®¹è¿‡äºŽæµ…æ˜¾ã€äº‹å®žæ€§è¿‡å¼ºï¼ˆå¦‚å•çº¯çš„æ–°é—»é€šæŠ¥ï¼‰æˆ–ç¯‡å¹…è¿‡çŸ­ï¼Œæ— æ³•è¿›è¡Œæœ‰æ•ˆçš„äºŒé˜¶æ€è€ƒï¼Œè¯·åœ¨ ThinkingCallout ä¸­ç›´æŽ¥è¾“å‡ºï¼š"Content is too factual or brief for deep analysis."ï¼Œä¸è¦å¼ºè¡Œç¼–é€ æ·±åˆ»è§è§£ã€‚

- **è‹¥æœ‰ UserExpectation**: 
  - **åŒ¹é…åº¦è¯„ä¼°**: æ–‡ç« å†…å®¹æ˜¯å¦çœŸæ­£è§£å†³äº† [UserExpectation]ï¼Ÿæ˜¯å¦å­˜åœ¨â€œæ ‡é¢˜å…šâ€æˆ–â€œæµ…å°è¾„æ­¢â€çš„æƒ…å†µï¼Ÿ - **è¡ŒåŠ¨å»ºè®®**: åŸºäºŽç”¨æˆ·çš„æœŸæœ›ï¼Œä¸‹ä¸€æ­¥è¯¥åšä»€ä¹ˆï¼Ÿï¼ˆå¦‚ï¼šç›´æŽ¥åŽ»è¯»æŸæœ¬ä¹¦ï¼Œæˆ–è€…æ”¾å¼ƒæ­¤æ–‡å¯»æ‰¾æ›´æ·±åº¦çš„æ¥æºï¼‰ã€‚ 
- **è‹¥æ—  UserExpectation**:
	- **è‹¥ä¸º Tutorial**: åˆ†æžæ“ä½œçš„ã€å¯è¡Œæ€§ä¸Žæ—¶æ•ˆæ€§ã€‘ã€‚æ˜¯å¦å­˜åœ¨çŽ¯å¢ƒä¾èµ–ï¼ˆå¦‚ Mac/Win å·®å¼‚ï¼‰ï¼Ÿæ˜¯å¦æœ‰æ›´çŽ°ä»£çš„æ›¿ä»£æ–¹æ¡ˆï¼Ÿ
	- **è‹¥ä¸º Concept**: è¿›è¡Œã€è·¨ç•Œè”æƒ³ä¸Žåœºæ™¯æ˜ å°„ã€‘ã€‚è¿™ä¸ªåŽŸç†åœ¨å…¶ä»–é¢†åŸŸï¼ˆå¦‚ç¼–ç¨‹ã€å†™ä½œã€ç®¡ç†ï¼‰æœ‰ä½•ä½“çŽ°ï¼Ÿå¦‚ä½•åº”ç”¨åˆ°è¯»è€…çš„å½“å‰é¡¹ç›®ä¸­ï¼Ÿ
	- **è‹¥ä¸º Narrative**: è¯†åˆ«ã€å¹¸å­˜è€…åå·®ä¸Žå†³ç­–åæ€ã€‘ã€‚ä½œè€…çš„æˆåŠŸæ˜¯å¦æœ‰å¶ç„¶æ€§ï¼Ÿå¦‚æžœå¤„åœ¨å½“æ—¶çŽ¯å¢ƒä¸‹ï¼Œæ˜¯å¦æœ‰æ›´å¥½çš„æ¬¡ä¼˜è§£ï¼Ÿ
	- **è‹¥ä¸º Opinion**: è¿›è¡Œã€è¾¹ç•ŒæŽ¢æµ‹ä¸Žåå‘è®ºè¯ã€‘ã€‚ä½œè€…å¿½ç•¥äº†å“ªäº›åå‘äº‹å®žï¼Ÿè¯¥è§‚ç‚¹åœ¨ä»€ä¹ˆæžç«¯åœºæ™¯ä¸‹ä¼šå¤±æ•ˆï¼Ÿ
	- **è‹¥ä¸º News**: è¯„ä¼°ã€è¿žé”ååº”ä¸ŽåŽ†å²å®šä½ã€‘ã€‚è¿™æ˜¯å¦å±žäºŽæŸä¸ªé•¿æœŸè¶‹åŠ¿ï¼Ÿ3ä¸ªæœˆåŽä¼šäº§ç”Ÿä»€ä¹ˆæ¬¡ç”Ÿå½±å“ï¼Ÿ
	- **è‹¥ä¸º Resource**: è¿›è¡Œã€ä»·å€¼è¯„ä¼°ä¸Žå¹³æ›¿å¯¹æ¯”ã€‘ã€‚è¯¥èµ„æºä¸ŽåŒç±»å·¥å…·ç›¸æ¯”æ ¸å¿ƒä¼˜åŠ¿åœ¨å“ªï¼Ÿæ˜¯å¦å€¼å¾—é•¿æœŸç»´æŠ¤ï¼Ÿ
	- **è‹¥ä¸º Collection**: è¿›è¡Œã€é€»è¾‘è¡¥å…¨ä¸Žä¸“å®¶æŽ¨èã€‘ã€‚æ¸…å•ä¸­æ˜¯å¦æœ‰æ˜Žæ˜¾é—æ¼ï¼Ÿå¦‚æžœåªèƒ½é€‰ä¸€ä¸ªï¼Œç†ç”±æ˜¯ä»€ä¹ˆï¼Ÿ

### 4. DebugInfo (JSON Object)
{
  "confidence_score": "0-100%",
  "intent_match_score": "è¯„ä¼°æ–‡ç« å†…å®¹æ»¡è¶³ [UserExpectation] çš„ç¨‹åº¦ (0-100%)",
  "category_reasoning": "è§£é‡Šåˆ†ç±»é€»è¾‘",
  "ambiguity_analysis": "åˆ†æžæ½œåœ¨çš„åˆ†ç±»é‡å ",
  "prompt_suggestion": "é’ˆå¯¹æ­¤ç¯‡å†…å®¹çš„æå–å»ºè®®"
}

# Output Format
ä½ å¿…é¡»ä¸”ä»…è¾“å‡ºä¸€ä¸ªåˆæ³•çš„ JSON å¯¹è±¡ï¼Œä¸¥ç¦åŒ…å«ä»»ä½• Markdown ä»£ç å—åŒ…è£¹ç¬¦å·ã€‚

## JSON Template: { "Metadata": { "title": "...", "processed_date": "...", "publication_date": "...", "tags": ["...", "..."], "category": "...", "status": "archived", "summary": "..." }, "IntroCallout": "...", "ThinkingCallout": "...", "DebugInfo": { "confidence_score": "...", "intent_match_score": "...", "category_reasoning": "...", "prompt_suggestion": "..." } }

# Output Rules
1. **çº¯å‡€ JSON**: ä¸¥ç¦è¾“å‡ºä»»ä½•éž JSON çš„è§£é‡Šæ€§æ–‡å­—ã€‚
2. **è½¬ä¹‰å¤„ç†**: å¿…é¡»ç¡®ä¿ \`å¯¼è¯»\` å’Œ \`äºŒé˜¶æ€è€ƒ\` å­—ç¬¦ä¸²ä¸­çš„æ¢è¡Œç¬¦è½¬ä¹‰ä¸º \`\\n\`ï¼Œå¼•å·æ­£ç¡®è½¬ä¹‰ã€‚
3. **å†…å®¹å®Œæ•´**: å¿…é¡»ä¸¥æ ¼æ‰§è¡Œ Step 2 ä¸­å„åˆ†ç±»å¯¹åº”çš„å­—æ®µè¦æ±‚ï¼Œç¡®ä¿**äºŒé˜¶æ€è€ƒ**éƒ¨åˆ†å¿…é¡»è¨€ä¹‹æœ‰ç‰©ï¼Œæ‹’ç»é€šç”¨åºŸè¯ã€‚
4. **è¯­è¨€**: é™¤ Key åå¤–ï¼Œæ‰€æœ‰å†…å®¹ä½¿ç”¨ä¸­æ–‡ã€‚
   
# Input Format ç”¨æˆ·å°†æä¾›å¦‚ä¸‹åŒ…å«å†…å®¹ï¼š 
- [Title]: æ–‡ç« æ ‡é¢˜
- [Content]: æ–‡ç« æ­£æ–‡
- [UserExpectation]: (Optional) ç”¨æˆ·æ”¶è—æ­¤æ–‡çš„å…·ä½“ç›®çš„ã€‚ä¾‹å¦‚ï¼š"æå–æ–‡ä¸­æåˆ°çš„æ‰€æœ‰AIå·¥å…·" æˆ– "å­¦ä¹ ä½œè€…å…³äºŽå¢žé•¿é»‘å®¢çš„é€»è¾‘"ã€‚
`;var y=e.i(71111);let v=(0,y.createServerReference)("0017616a26e83f58eca1de28dbccda2ec90635172e",y.callServer,void 0,y.findSourceMapURL,"getAiPromptAction"),b=(0,y.createServerReference)("4041eeb1a6ef4bf67dd5b95726682bfe8eb23b1c5f",y.callServer,void 0,y.findSourceMapURL,"saveAiPromptAction");var x=e.i(54267);let S=(0,r.default)("cloud",[["path",{d:"M17.5 19H9a7 7 0 1 1 6.71-9h1.79a4.5 4.5 0 1 1 0 9Z",key:"p7xjir"}]]);function k(){let e=(0,h.useRouter)(),r=(0,g.useTranslation)(),[y,k]=(0,m.useState)(""),[w,N]=(0,m.useState)(!0),[j,A]=(0,m.useState)(!1),[I,E]=(0,m.useState)(null);return((0,m.useEffect)(()=>{v().then(e=>{k(e||f),N(!1)})},[]),(0,m.useEffect)(()=>{if(w)return;A(!0);let e=setTimeout(async()=>{try{await b(y),E(new Date)}finally{A(!1)}},1e3);return()=>clearTimeout(e)},[y,w]),w)?(0,t.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-white dark:bg-[#0a0a0a]",children:(0,t.jsxs)("div",{className:"flex flex-col items-center gap-4",children:[(0,t.jsx)("div",{className:"w-8 h-8 border-2 border-[#1d5d63] border-t-transparent rounded-full animate-spin"}),(0,t.jsx)("span",{className:"text-sm text-slate-500 font-medium",children:r.common.loading})]})}):(0,t.jsxs)("div",{className:"min-h-screen bg-white dark:bg-[#0a0a0a] font-sans text-slate-900 dark:text-gray-100 transition-colors duration-200 flex flex-col",children:[(0,t.jsxs)("nav",{className:"sticky top-0 z-50 bg-white/95 dark:bg-[#0a0a0a]/95 backdrop-blur-sm px-6 py-5 flex items-center justify-between border-b border-slate-100 dark:border-white/5",children:[(0,t.jsx)("button",{onClick:()=>e.back(),className:"p-2 -ml-2 rounded-full text-slate-400 hover:text-slate-900 dark:hover:text-white transition-colors","aria-label":r.promptEditor.close,children:(0,t.jsx)(a.ChevronLeft,{className:"w-6 h-6"})}),(0,t.jsxs)("div",{className:"flex items-center gap-4",children:[(0,t.jsx)("div",{className:"flex items-center gap-2 px-3 py-1 rounded-full bg-slate-50 dark:bg-white/5 border border-slate-100 dark:border-white/5",children:j?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{className:"w-1.5 h-1.5 rounded-full bg-[#1d5d63] animate-pulse"}),(0,t.jsx)("span",{className:"text-[10px] font-bold tracking-wider text-slate-400 uppercase",children:"Saving"})]}):I?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(x.Check,{className:"w-3 h-3 text-[#1d5d63]"}),(0,t.jsx)("span",{className:"text-[10px] font-bold tracking-wider text-slate-400 uppercase",children:"Saved"})]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(S,{className:"w-3 h-3 text-slate-300"}),(0,t.jsx)("span",{className:"text-[10px] font-bold tracking-wider text-slate-400 uppercase",children:"Ready"})]})}),(0,t.jsx)("button",{onClick:()=>{k(f)},className:"text-[12px] font-bold tracking-[0.1em] uppercase opacity-60 hover:opacity-100 transition-opacity text-slate-500 dark:text-slate-400",children:r.promptEditor.restoreDefaults})]})]}),(0,t.jsxs)("main",{className:"flex-1 max-w-2xl mx-auto px-6 pt-8 pb-32 w-full",children:[(0,t.jsx)("header",{className:"mb-8",children:(0,t.jsx)("h1",{className:"font-serif font-black text-4xl tracking-tight leading-tight text-slate-900 dark:text-white",children:r.promptEditor.title})}),(0,t.jsxs)("div",{className:"relative group min-h-[calc(100vh-250px)]",children:[(0,t.jsx)("label",{className:"sr-only",htmlFor:"prompt-input",children:"Prompt Input"}),(0,t.jsx)("div",{className:"h-full w-full rounded-xl border border-slate-200 dark:border-gray-800 bg-slate-50/50 dark:bg-gray-900/30 p-5 transition-all duration-300 focus-within:border-slate-300 dark:focus-within:border-gray-700 focus-within:shadow-sm",children:(0,t.jsx)("textarea",{id:"prompt-input",className:"w-full h-full min-h-[400px] bg-transparent border-none focus:ring-0 p-0 text-[16px] leading-relaxed font-mono placeholder:text-gray-300 dark:placeholder:text-gray-700 resize-none overflow-y-auto no-scrollbar outline-none text-slate-800 dark:text-slate-200",placeholder:r.promptEditor.placeholder,spellCheck:!1,value:y,onChange:e=>k(e.target.value)})})]})]}),(0,t.jsx)("div",{className:"fixed bottom-0 left-0 w-full z-40 bg-white/95 dark:bg-[#0a0a0a]/95 backdrop-blur-md border-t border-slate-100 dark:border-white/10 px-4 py-3 pb-safe flex items-center justify-center",children:(0,t.jsxs)("div",{className:"flex items-center gap-1 overflow-x-auto no-scrollbar max-w-full pb-2 md:pb-0",children:[(0,t.jsx)(C,{icon:n}),(0,t.jsx)(C,{icon:o}),(0,t.jsx)(C,{icon:i}),(0,t.jsx)(C,{icon:l}),(0,t.jsx)(C,{icon:s}),(0,t.jsx)(C,{icon:c}),(0,t.jsx)(C,{icon:d}),(0,t.jsx)("div",{className:"w-px h-6 bg-slate-200 dark:bg-gray-800 mx-2"}),(0,t.jsx)(C,{icon:u}),(0,t.jsx)(C,{icon:p})]})})]})}function C({icon:e}){return(0,t.jsx)("button",{className:"flex items-center justify-center w-10 h-10 rounded-lg hover:bg-slate-100 dark:hover:bg-gray-800 transition-colors text-slate-400 hover:text-slate-600 dark:hover:text-slate-200",children:(0,t.jsx)(e,{className:"w-5 h-5",strokeWidth:1.5})})}e.s(["default",()=>k],24256)}]);